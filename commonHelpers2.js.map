{"version":3,"file":"commonHelpers2.js","sources":["../src/js/modal.js","../src/js/app.js","../src/js/filters.js","../src/js/popular.js","../src/js/discount.js","../src/js/footer.js","../src/js/header.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst refs = {\r\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\r\n  backdrop: document.querySelector('.js-backdrop'),\r\n  addToCart: document.querySelector('.modal-btn-sabmit'),\r\n  discountProduct: document.querySelector('.modal-discount-svg'),\r\n  onCart: document.querySelector('.modal-btn-sabmit-span'),\r\n  modalImg: document.querySelector('.modal-img img'),\r\n  modalTitle: document.querySelector('.modal-title'),\r\n  modalCategory: document.querySelector(\r\n    '.modal-list li:nth-child(1) .modal-item-span'\r\n  ),\r\n  modalSize: document.querySelector(\r\n    '.modal-list li:nth-child(2) .modal-item-span'\r\n  ),\r\n  modalPopularity: document.querySelector(\r\n    '.modal-list li:nth-child(3) .modal-item-span'\r\n  ),\r\n  modalDesc: document.querySelector('.modal-info-taxt'),\r\n  modalPrice: document.querySelector('.modal-price'),\r\n};\r\n\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Слухачі\r\n\r\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\r\nrefs.backdrop.addEventListener('click', onBackdropClick);\r\n// \r\nconst cardImages = document.querySelectorAll('.cardlist-img');\r\ncardImages.forEach(img => {\r\n  img.addEventListener('click', event => handleImageClick(event));\r\n});\r\n\r\nexport function handleImageClick(event) {\r\n  const productId = event.currentTarget.closest('.card-list-item').dataset.id;\r\n  onOpenModal(productId);\r\n}\r\n// \r\nconst cardImagesPopular = document.querySelectorAll('.product-image');\r\ncardImagesPopular.forEach(img => {\r\n  img.addEventListener('click', event => handleImageClickPopular(event));\r\n});\r\nfunction handleImageClickPopular(event) {\r\n  const productId = event.currentTarget.closest('.product-image-container')\r\n    .dataset.product-id;\r\n  onOpenModal(productId);\r\n}\r\nconst cardImagesDiscount = document.querySelectorAll('.discount-card-image');\r\ncardImagesDiscount.forEach(img => {\r\n  img.addEventListener('click', onClickAddToCart);\r\n});\r\n\r\n\r\n// //////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n// Зовнішній URL для запитів\r\nconst baseUrl = 'https://food-boutique.b.goit.study/api/';\r\n\r\n\r\n// Запит за допомогою Axios\r\nasync function fetchProductById(productId) {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}products/${productId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error:', error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Відмальовка в модалку\r\nasync function handleProductDetails(productId) {\r\n  const productDetails = await fetchProductById(productId);\r\n\r\n  if (productDetails) {\r\n    refs.modalImg.src = productDetails.img;\r\n    refs.modalImg.alt = productDetails.name;\r\n    refs.modalTitle.textContent = productDetails.name;\r\n    refs.modalCategory.textContent = productDetails.category;\r\n    refs.modalSize.textContent = productDetails.size;\r\n    refs.modalPopularity.textContent = productDetails.popularity;\r\n    refs.modalDesc.textContent = productDetails.desc;\r\n    refs.modalPrice.textContent = `$${productDetails.price.toFixed(2)}`;\r\n\r\n    // Перевіряємо чи продукт в корзині\r\n    const isInCart = checkIfProductInCart(productId);\r\n    const isAdded = getCartFromStorage().includes(productId);\r\n\r\n    // Оновлюємо текст кнопки\r\n    updateAddToCartButton(isInCart, isAdded);\r\n    if (productDetails.is10PercentOff) {\r\n      refs.discountProduct.classList.remove('hidden');\r\n    } else {\r\n      refs.discountProduct.classList.add('hidden');\r\n    }\r\n  } else {\r\n    console.error('Product details not available.');\r\n  }\r\n}\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n// Міняю текст кнопки в залежності чи в корзині продукт\r\nfunction updateAddToCartButton(isInCart, isAdded) {\r\n  const buttonText = isInCart ? 'Remove from' : isAdded ? 'Added to' : 'Add to';\r\n  refs.addToCart.querySelector('.modal-btn-sabmit-span').textContent =\r\n    buttonText;\r\n  refs.addToCart.disabled = isInCart; // кнопка не активна якщо товар в корзині\r\n}\r\n\r\n// Перевіряєм чи продукт вже в корзині\r\nfunction checkIfProductInCart(productId) {\r\n  let cart = getCartFromStorage();\r\n  const isInCart = cart.some(obj => obj._id === productId);\r\n\r\n  // Додавання слухача для кнопки\r\n  refs.addToCart.addEventListener('click', () => {\r\n    onClickAddToCart(productId, isInCart);\r\n  });\r\n\r\n  return isInCart;\r\n}\r\n\r\n// Функція для отримання корзини з локального сховища\r\nfunction getCartFromStorage() {\r\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\r\n  return cart;\r\n}\r\n\r\nfunction onClickAddToCart(productId, isInCart) {\r\n  if (isInCart) {\r\n    // Видалення товару з корзини\r\n    removeFromCart(productId);\r\n    // Оновлюємо текст кнопки та робимо її неактивною\r\n    updateAddToCartButton(false, false);\r\n  } else {\r\n    // Товару немає в кошику, додаємо\r\n    addToCart(productId);\r\n    // Оновлюємо текст кнопки\r\n    updateAddToCartButton(true, true);\r\n  }\r\n  const buttonsShopFilter = document.querySelectorAll('.cardlist-add-cart');\r\n  const selectedButton = [...buttonsShopFilter].filter(\r\n    button => button.id === productId\r\n  );\r\n  selectedButton.forEach(\r\n    button =>\r\n      (button.innerHTML = `<svg class=\"cardlist-svg\" weight=\"18\" height=\"18\"> \r\n  <use href=\"./img/icons.svg#icon-check\"></use> \r\n  </svg>`)\r\n  );\r\n}\r\n\r\n// Функція для додавання продукту до корзини в локальному сховищі\r\nfunction addToCart(product) {\r\n  let cart = getCartFromStorage();\r\n  if (!cart.some(item => item._id === product._id)) {\r\n    cart.push(product);\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n  console.log('Cart:', cart);\r\n}\r\n\r\n// Функція для видалення продукту з корзини в локальному сховищі\r\nfunction removeFromCart(productId) {\r\n  let cart = getCartFromStorage();\r\n  const index = cart.findIndex(item => item._id === productId);\r\n  if (index !== -1) {\r\n    const removedProduct = cart[index];\r\n    cart.splice(index, 1);\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n  console.log('Cart:', cart);\r\n}\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Оновлюємо інтерфейс модального вікна при відкритті\r\nexport function onOpenModal(productId) {\r\n  // Додаємо слухач\r\n  window.addEventListener('keydown', onCloseByEsc);\r\n  document.body.classList.add('show-modal');\r\n\r\n  // Перевіряємо, чи продукт вже в корзині\r\n  checkIfProductInCart(productId);\r\n  handleProductDetails(productId);\r\n  toggleBodyScroll();\r\n}\r\n\r\n// Закритя модального вікна\r\nfunction onCloseModal() {\r\n  // Зняв слухач\r\n  window.removeEventListener('keydown', onCloseByEsc);\r\n  document.body.classList.remove('show-modal');\r\n  toggleBodyScroll();\r\n}\r\n\r\n// Закритя модального вікна по кліку за модалку (на темний фон)\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\n// Закритя модального вікна по Esc\r\nfunction onCloseByEsc(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction isModalOpen() {\r\n  return document.body.classList.contains('show-modal');\r\n}\r\n\r\nfunction toggleBodyScroll() {\r\n  document.body.style.overflow = isModalOpen() ? 'hidden' : '';\r\n}\r\n// ///////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n// const checkoutButton = document.querySelector('.js-email-checkout');\r\n// checkoutButton.addEventListener('click', onCheckoutButtonClick);\r\n\r\n// function onCheckoutButtonClick() {\r\n//   onOpenOrderedModal();\r\n// }\r\n// export async function onOpenOrderedModal() {\r\n//   window.addEventListener('keydown', onCloseByEsc);\r\n//   document.body.classList.add('show-ordered-modal');\r\n//   toggleBodyScroll();\r\n// }\r\n","// -----------------------------2variant-----------------------\nimport { recordsDataForSearch, search, renderCards } from \"./filters\";\n\nconst ulTag = document.querySelector('.pagination-page-list');\n\n// export function renderPagination(totalPages) {\n//   let liTag = '';\n//   if (page > 1) {\n//     liTag += `<li class=\"btn prev\" onclick=\"element(totalPages, ${\n//       page - 1\n//     })\"><span><i class=\"left\"></i> < </span></li>`;\n//   }\n//   ulTag.innerHTML = liTag;\n  \n//   workButtonPagination()\n// }\n\nexport function element(totalPages, page) {\n  let liTag = '';\n  let beforePages = page - 1;\n  let afterPades = page;\n  if (page > 1) {\n    liTag += `<li><button class=\"btn prev left-arrow-pagination\"><span><i class=\"left\"></i> < </span></button></li>`;\n  }\n  // if(page > 1){\n  //   if(page < totalPages + 1)\n  //   liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>1</span></li>`;\n  //      if(page > 2){\n  //     liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>2</span></li>`;\n  //     if(page > totalPages - 8){\n  //     liTag += `<li class=\"dots\"><span>...</span></li>`;\n  //    }\n  //   }\n  // }\n  for (let pageLength = beforePages; pageLength <= afterPades; pageLength++) {\n    if (pageLength > totalPages) {\n      continue;\n    }\n    if (pageLength == 0) {\n      pageLength = pageLength + 1;\n    }\n    \n    liTag += `<li><button class=\"numb button-pagination\"><span>${pageLength}</span></button></li>`;\n  }\n  if (page < totalPages) {\n    if (page < totalPages) {\n      liTag += `<li class=\"dots\"><span>...</span></li>`;\n      if (page < totalPages + 1) {\n        liTag += `<li><button class=\"numb button-pagination\"><span>${totalPages-1}</span></button></li>`;\n        if (page <= totalPages + 2) {\n          liTag += `<li><button class=\"numb button-pagination\"><span>${totalPages}</span></button></li>`;\n        }\n      }\n    }\n  }\n  if (page < totalPages) {\n    liTag += `<li><button class=\"btn next right-arrow-pagination\"><span><i class=\"right\"></i> > </span></button></li>`;\n  }\n  ulTag.innerHTML = liTag;\n  \n  const leatArrowPagination = document.querySelector('.left-arrow-pagination');\n  const rigthArrowPagination = document.querySelector('.right-arrow-pagination');\n\n  leatArrowPagination.addEventListener('click', () => {\n    element(totalPages, page - 1)\n  });\n  rigthArrowPagination.addEventListener('click', () => {\n    element(totalPages, page + 1)\n  });\n  workButtonPagination()\n}\n\n// element(totalPages, 2);\n\n\n\nfunction workButtonPagination() {\n  const buttonsPagination = document.querySelectorAll('.button-pagination');\n  const numberStartPage = JSON.parse(localStorage.getItem('data-for-search')).page;\n  // [...buttonsPagination].forEach(btn => console.log(btn.textContent));\n  const btnStartPage = [...buttonsPagination].filter(btn => btn.textContent === String(numberStartPage));\n  btnStartPage.map(btn => btn.classList.add('active'));\n  [...buttonsPagination].forEach((buttonPagination) => {\n    buttonPagination.addEventListener('click', searchPagination)\n  })\n};\n\nasync function searchPagination(event){\n  event.currentTarget.removeEventListener('click', searchPagination);\n\n  event.currentTarget.classList.add('active');\n  \n  const dataFromLS = JSON.parse(localStorage.getItem('data-for-search'));\n  let page = event.currentTarget.textContent;\n  recordsDataForSearch(dataFromLS.keyword, dataFromLS.category, page, dataFromLS.limit);\n  const resultSearch = await search();\n  const searchResult = resultSearch.results;\n  renderCards(searchResult);\n  const buttonsPaginations = document.querySelectorAll('.button-pagination');\n  [...buttonsPaginations].forEach((btn) => {\n    const hasBtnActive = btn.classList.contains('active');\n    if(hasBtnActive && btn.textContent !== page){\n      btn.classList.remove('active');\n      btn.addEventListener('click', searchPagination)\n    }else if(!hasBtnActive){\n      btn.addEventListener('click', searchPagination)\n    }\n  });\n}\n","import axios, { all } from 'axios';\nimport {handleImageClick} from './modal';\nimport icons from '../img/icons.svg';\nimport {element} from './app';\n\nexport class RequestToTheServer {\n    baseUrl = 'https://food-boutique.b.goit.study/api/'\n\n    constructor(endPoint, filters, page, limit){\n        this.endPoint = endPoint;\n        this.filters = filters;\n        this.page = page;\n        this.limit = limit;\n    }\n\n    async fetchBreeds(){\n    try{\n        console.log(`${this.endPoint}?${this.filters}&page=${this.page}&limit=${this.limit}`);\n        const response = await axios.get(`${this.baseUrl}${this.endPoint}?${this.filters}&page=${this.page}&limit=${this.limit}`);\n        console.log(response.data);\n        return response.data\n    } catch(error){\n        console.error(\"Error:\", error.message);\n    }\n    }\n};\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst searchForm = document.querySelector('.search-form');\nconst inputSearch = document.querySelector('.first-input-search');\nconst filtersResult = document.querySelector('.filters-result');\nconst firctSelectSearch = document.querySelector('.first-select-search-not-focus');\nconst buttonCategories = document.querySelector('.button-categories');\nconst spanButtonCategories = document.querySelector('.span-button-categories');\n\n\nconst products = \"products\";\n\nlet keyword = '';\nlet category = '';\nlet page = 1;\nlet limit = 6;\nlet allPagesResult = '';\nlet productsHomePage ={};\nlet inputResultSearch = {};\nlet productsCategories = {};\nlet fullInputResultSearch ={};\n\nlet littleMediaQuery = window.matchMedia('(min-width: 768px)').matches;\nlet bigMediaQuery = window.matchMedia('(min-width: 1440px)').matches;\nif(bigMediaQuery){\n    limit = 9;\n} else if(littleMediaQuery){\n    limit = 8;\n} else{\n    limit = 6;\n}\n\nexport function recordsDataForSearch(keyword, category, page, limit){\n    localStorage.setItem('data-for-search', JSON.stringify(\n        {\n            keyword, \n            category,\n            page,\n            limit\n        }\n        ))\n};\n\nrecordsDataForSearch(keyword, category, page, limit);\n///////////////////////////////////////  SEARCH  /////////////////////////////////////////////////////////////////////////////\n\nexport async function search() {\n    try{\n        const letForSearch = JSON.parse(localStorage.getItem('data-for-search'));\n    const filters = `keyword=${letForSearch.keyword}&category=${letForSearch.category}`;\n        const classResultProductsWithFilters = new RequestToTheServer(products, filters, letForSearch.page, letForSearch.limit);\n        fullInputResultSearch = await classResultProductsWithFilters.fetchBreeds();\n        return fullInputResultSearch\n    } catch (error){\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n    \n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst messageForError = () => {\n    const htmlError = `<div class=\"error\">\n    <p class=\"title-error\">\n        Nothing was found for the selected <span><a class=\"a-title-error\" href=\"\">filters...</a></span>\n    </p>\n    <p class=\"p-error\">\n        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.\n    </p>\n</div>`;\n    filtersResult.innerHTML = htmlError;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////// HOME /// PAGE ////////////////////////////////////////////////////////////\nasync function ifEmptyInput() {\n    try {\n        const storageDataHomePage = localStorage.getItem('products-home-page-filters');\n        const allPages = localStorage.getItem('all-pages-result');\n        if (storageDataHomePage && allPages) {\n            const preProductsHomePage = JSON.parse(storageDataHomePage);\n            allPagesResult = JSON.parse(allPages);\n            if(preProductsHomePage.length >= limit){\n                productsHomePage = preProductsHomePage.slice(0, limit)\n            } else {\n                await search();\n            productsHomePage = fullInputResultSearch.results;\n            allPagesResult = fullInputResultSearch.totalPages;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n            localStorage.setItem('all-pages-result', JSON.stringify(allPagesResult));\n            }\n        } else {\n            await search();\n            productsHomePage = fullInputResultSearch.results;\n            allPagesResult = fullInputResultSearch.totalPages;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n            localStorage.setItem('all-pages-result', JSON.stringify(allPagesResult));\n        }\n        renderCards(productsHomePage);\n        element(allPagesResult, 2);\n        if(fullInputResultSearch.totalPages === 0){\n            messageForError();\n        }\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyInput();\n\n//////////////////////////////////////// INPUT ////////////////////////////////////////////////////////////////////\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    keyword = inputSearch.value.trim();\n    page = 1;\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    allPagesResult = fullInputResultSearch.totalPages;\n    renderCards(inputResultSearch);\n    element(allPagesResult, 2);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n});\n\n////////////////////////////////////////// ALL CATEGORIES ////////////////////////////////////////////////////////////////////\n\nasync function ifEmptyCategories() {\n    try {\n        const storageDataCategories = localStorage.getItem('categories-filters');\n        if (storageDataCategories) {\n            productsCategories = JSON.parse(storageDataCategories);\n        } else {\n            const filters = '';\n            const firstProductsCategoriesFilters = `${products}/categories`;\n            const classFirstCategoriesProducts = new RequestToTheServer(firstProductsCategoriesFilters, filters, page, limit);\n            productsCategories = await classFirstCategoriesProducts.fetchBreeds();\n            localStorage.setItem('categories-filters', JSON.stringify(productsCategories));\n        }\n        renderCategories(productsCategories);\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyCategories();\n\nfunction renderCategories(productsCategories){\n    const listCategories = [];\n    productsCategories.forEach((productsCategorie) => {\n        let itemCategories = ``;\n        if(productsCategorie !== 'Pantry_Items'){\n            itemCategories = `<li class=\"li-first-select-search\"><button class=\"button-li-filters\">${productsCategorie.replace(/_/g, ' ').replace(/&/g, '/')}</button></li>`;\n        } else{\n            itemCategories = `<li class=\"li-first-select-search\"><button class=\"button-li-filters\">${productsCategorie}</button></li>`;\n        }\n        listCategories.push(itemCategories)\n    });\n    listCategories.push(`<li class=\"li-first-select-search\"><button class=\"button-li-filters\">Show all</button></li>`);\n    firctSelectSearch.insertAdjacentHTML('beforeend', listCategories.join(''));\n    const buttonsLiFilters = document.querySelectorAll('.button-li-filters');\n    addListenerLi(buttonsLiFilters)\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbuttonCategories.addEventListener('click', () => addListenerButton(buttonCategories, firctSelectSearch));\n\nfunction addListenerButton(button, buttonList) {\n    buttonList.classList.add('first-select-search');\n    document.addEventListener('click', (event) => workButtonMenu(event, button, buttonList));\n};\n\nfunction workButtonMenu(event, button, listButtonMenu) {\n    if(!button.contains(event.target)&&!listButtonMenu.contains(event.target)){\n        listButtonMenu.classList.remove('first-select-search')\n    } else if(listButtonMenu.contains(event.target)){\n        setTimeout(() => {\n            listButtonMenu.classList.remove('first-select-search')\n        }, 100)\n    }\n};\n\nfunction addListenerLi(buttonsLiFilters){\n    buttonsLiFilters.forEach((buttonLiFilters) => {\n    buttonLiFilters.addEventListener('click', renderEndPoint)\n})\n};\n\nasync function renderEndPoint(event){\n    const nameCategoryForSelect = event.currentTarget.textContent;\n    if(nameCategoryForSelect !== 'Pantry Items'){\n        category = nameCategoryForSelect.replace(/ /g, '_').replace(/\\//g, '&');\n    } else{\n        category = nameCategoryForSelect;\n    }\n    spanButtonCategories.innerHTML = `${nameCategoryForSelect}`;\n    if(category === 'Show_all'){\n        category = ''\n    }\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    allPagesResult = fullInputResultSearch.totalPages;\n    renderCards(inputResultSearch);\n    element(allPagesResult, 2);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n}\n\n///////////////////////////////////////////////////////  RENDER  CARDS  /////////////////////////////////////////////////////////////\n\nexport function renderCards(products) {\n    const listResult = [];\n    const infoAboutCard = JSON.parse(localStorage.getItem('cart'));\n    products.forEach((product) => {\n        let itemResult = '';\n        let idIconShop = \"icon-heroicons-solid_shopping-cart\";\n        let nameCategory = product.category.replace(/_/g, ' ').replace(/&/g, '/');\n        if(product.category == 'Pantry_Items'){\n            nameCategory = product.category;\n        } else{\n            nameCategory = product.category.replace(/_/g, ' ').replace(/&/g, '/');\n        }\n        if(infoAboutCard){\n            const cardInInfoAboutCard = infoAboutCard.some((obj) => obj._id === product._id);\n            if(cardInInfoAboutCard){\n                idIconShop = \"icon-check\";\n            } else{\n                idIconShop = \"icon-heroicons-solid_shopping-cart\";\n            }\n        };\n        if(product.is10PercentOff){\n        itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${nameCategory}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <div class=\"cartlist-btn\"><button class=\"cardlist-add-cart\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"${icons}#${idIconShop}\"></use>\n                </svg>\n                </button>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"discount-for-filter-cards\">\n                <use href=\"${icons}#icon-discount-1\"></use>\n                </svg>\n                </li>`;\n        } else {\n            itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img filters-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${nameCategory}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>    \n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <div class=\"cartlist-btn\"><button class=\"cardlist-add-cart\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"${icons}#${idIconShop}\"></use>\n                </svg>\n                </button>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"visually-hidden\">\n                <use href=\"${icons}#icon-discount-1\"></use>\n                </svg>\n                </li>`;\n        }\n        listResult.push(itemResult)\n    });\n    filtersResult.innerHTML = `<ul class=\"card-list\">${listResult.join(\" \")}</ul>`;\n    workShopButton(products);\n    const cardFiltersImages = document.querySelectorAll('.filters-img');\ncardFiltersImages.forEach(img => {\n    img.addEventListener('click', event => handleImageClick(event));\n});\n};\n\nfunction workShopButton(products) {\n    const allShopButton = document.querySelectorAll('.cardlist-add-cart');\n    [...allShopButton].forEach((shopButton) => {\n        shopButton.addEventListener('click', (event) => {\n            const idShopButton = event.currentTarget.getAttribute('id');\n            const ourProduct = products.find((odj) => odj._id === idShopButton);\n            const cardLS = localStorage.getItem('cart');\n            if(cardLS){\n                const infoInCardLS = JSON.parse(cardLS);\n                infoInCardLS.push(ourProduct);\n                localStorage.setItem('cart', JSON.stringify(infoInCardLS));\n            } else{\n                localStorage.setItem('cart', JSON.stringify([ourProduct]));\n            }\n            event.currentTarget.innerHTML = `<svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-check\"></use>\n            </svg>`;\n            event.currentTarget.setAttribute('disabled', 'true');\n        })\n    })\n};\n\n// localStorage.clear()","import { RequestToTheServer } from './filters';\nimport { onOpenModal } from './modal';\nimport sprite from '../img/icons.svg';\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Оновити стиль кнопок при завантаженні сторінки\n  cartButtonStyle();\n\n  const savedProducts = JSON.parse(localStorage.getItem('popularProducts'));\n  let localProducts;\n\n  if (savedProducts && savedProducts.length >= 5) {\n    localProducts = savedProducts.slice(0, 5);\n  } else {\n    localProducts = [];\n  }\n  if (localProducts.length > 0) {\n    createAndAppendProductElements(localProducts);\n    addFunctionalityToElements();\n  } else {\n    fetchProductsFromServer();\n  }\n});\n\nasync function fetchProductsFromServer() {\n  const request = new RequestToTheServer('products/popular', '', 1, 5);\n\n  try {\n    const fetchedData = await request.fetchBreeds();\n\n    saveProductsToLocalStorage(fetchedData);\n\n    const productsToDisplay = fetchedData.slice(0, 5);\n\n    createAndAppendProductElements(productsToDisplay);\n\n    addFunctionalityToElements();\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\nfunction addFunctionalityToElements() {\n  cartButtonStyle();\n}\nconst productsContainer = document.querySelector('.products-container');\n\nfunction saveProductsToLocalStorage(products) {\n  // Збереження продуктів в локальне сховище\n  localStorage.setItem('popularProducts', JSON.stringify(products));\n}\n\nfunction createAndAppendProductElements(products) {\n  products.forEach(product => {\n    // Створити контейнер для продукту\n    const productTemplate = document.createElement('div');\n    productTemplate.classList.add('product-template');\n\n    // Створити розмітку продукту\n    productTemplate.innerHTML = `\n      <div class=\"popular-con\">\n          <div class=\"product-image-container\" data-product-id=\"${\n            product._id\n          }\"> <img src=\"${product.img}\" alt=\"\" class=\"product-image\"></div>\n          <div class=\"product-text\">\n              <h3 class=\"product-name\">${product.name}</h3>\n              <p class=\"product margin\">\n                  Category: <span class=\"category-value\">${product.category.replace(\n                    '_',\n                    ' '\n                  )}</span><br>\n                  Size: <span class=\"size-value\">${product.size}</span><br>\n                  Popularity: <span class=\"popularity-value\">${\n                    product.popularity\n                  }</span>\n              </p>\n          </div>\n      </div>\n      <button class=\"add-to-cart-btn cart-btn\" data-product-id=\"${product._id}\">\n      <svg class=\"ico icon-on\">\n      <use href=\"${sprite}#icon-heroicons-solid_shopping-cart\"></use>\n  </svg>\n          \n  <svg class=\"ico icon-off\" style=\"display: none;\">\n  <use href=\"${sprite}#icon-check\"></use>\n</svg>\n\n      </button>\n    `;\n    // Налаштувати подію для кнопки \"Додати в кошик І модалки\"\n    productsContainer.appendChild(productTemplate);\n    const addToCartImg = productTemplate.querySelector(\n      '.product-image-container'\n    );\n    addToCartImg.addEventListener('click', function () {\n      onOpenModal(product._id);\n    });\n\n    const addToCartBtn = productTemplate.querySelector('.add-to-cart-btn');\n    addToCartBtn.onclick = function () {\n      addToCart(product);\n    };\n  });\n}\n\n// Функція для додавання або видалення товару з кошика\nfunction addToCart(product) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  const existingProductIndex = cart.findIndex(\n    item => item && item._id === product._id\n  );\n  if (existingProductIndex !== -1) {\n  } else {\n    cart.push(product);\n  }\n\n  localStorage.setItem('cart', JSON.stringify(cart));\n\n  cartButtonStyle();\n}\n\n// Функція для оновлення стилю кнопок\nexport function cartButtonStyle() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const addToCartButtons = document.querySelectorAll('.cart-btn');\n\n  addToCartButtons.forEach(btn => {\n    const productId = btn.getAttribute('data-product-id');\n    const iconInCart = btn.querySelector('.icon-off');\n    const iconAddToCart = btn.querySelector('.icon-on');\n    const isProductInCart = cart.some(item => item && item._id === productId);\n\n    if (iconInCart && iconAddToCart) {\n      if (isProductInCart) {\n        btn.classList.add('added-to-cart');\n        iconInCart.style.display = 'block';\n        iconAddToCart.style.display = 'none';\n      } else {\n        btn.classList.remove('added-to-cart');\n        iconInCart.style.display = 'none';\n        iconAddToCart.style.display = 'block';\n      }\n    }\n  });\n}\n","import axios from 'axios';\nimport sprite from '../img/icons.svg';\n\nconst discountEl = document.querySelector('.discount-container');\n\nlet products = [];\nlet addedProducts = [];\n\nconst addProductToStorage = product => {\n  const existingProduct = addedProducts.find(p => p._id === product._id);\n  if (!existingProduct) {\n    addedProducts.push(product);\n    localStorage.setItem('cart', JSON.stringify(addedProducts));\n  }\n};\n\nconst isProductInCart = id => {\n  return addedProducts.some(product => product._id === id);\n};\n\nasync function getDiscountProduct() {\n  try {\n    const res = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/discount'\n    );\n\n    products = res.data;\n\n    function productTemplate(product) {\n      const { _id, name, img, price } = product;\n\n      return `<div class=\"discount-card\">\n                  <div class=\"discount-logo\">\n                  <svg class=\"logo\">\n                      <use href=\"${sprite}#icon-discount-1\" width=\"60\" height=\"60\"></use>\n                  </svg>\n                  </div>\n                  <div class=\"discount-card-image\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"114\" height=\"'114\" />\n                  </div>\n                  <div class=\"discount-card-info\">\n                  <div class=\"discount-card-name\">\n                      <p class=\"discount-card-text\">${name}</p>\n                  </div>\n  \n                  <div class=\"discount-card-price\">\n                      <p class=\"discount-card-text\">$${price}</p>\n  \n                      <button class=\"discount-card-button\" type=\"button\" data-id=${_id}>\n                      <svg class=\"\">\n                          <use href=\"${sprite}#${\n        isProductInCart(_id)\n          ? 'icon-check'\n          : 'icon-heroicons-solid_shopping-cart'\n      }\"></use>\n                      </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>`;\n    }\n\n    function productsTemplate(products) {\n      return products.slice(0, 2).map(productTemplate).join('');\n    }\n\n    function renderProducts() {\n      const markup = productsTemplate(products);\n      discountEl.innerHTML = markup;\n    }\n\n    addedProducts = JSON.parse(localStorage.getItem('cart')) || [];\n\n    renderProducts();\n\n    const cartButtons = document.querySelectorAll('.discount-card-button');\n    Array.from(cartButtons).forEach(el => {\n      el.addEventListener('click', ev => {\n        const productId = ev.currentTarget.dataset.id;\n        const selectedProduct = products.find(p => p._id === productId);\n        addProductToStorage(selectedProduct);\n        renderProducts();\n      });\n    });\n  } catch (error) {\n    console.error('Error fetching discount products:', error.message);\n  }\n}\n\ngetDiscountProduct();\n","import axios from 'axios';\n\nconst refs = {\n  // ---------------for form subscription--------------\n\n  formSubscription: document.querySelector('.footer-form'),\n\n  // ----------------for modal window_____________\n\n  openModalPolicy: document.querySelector('.js-modal-policy-open'),\n  openModalTerms: document.querySelector('.js-modal-terms-open'),\n  closeModalPolicyBtn: document.querySelector('.js-policy-close'),\n  closeModalTermsBtn: document.querySelector('.js-terms-close'),\n  policyLink: document.querySelector('.js-policy'),\n  termsLink: document.querySelector('.js-terms'),\n};\n\n//==============form subscription=========\n\nrefs.formSubscription.addEventListener('submit', onFormSubscriptSubmit);\n\nfunction onFormSubscriptSubmit(e) {\n  e.preventDefault();\n\n  const email = e.currentTarget.elements.email.value;\n\n  addUserForSubscription(email);\n\n  e.currentTarget.reset();\n}\n\nasync function addUserForSubscription(email) {\n  axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/';\n  const config = {\n    method: 'post',\n    url: 'subscription',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: { email: email },\n  };\n  try {\n    const response = await axios.request(config);\n    alert(response.data.message);\n  } catch (error) {\n    alert(error.response.data.message);\n    console.log(error);\n  }\n}\n\n//==============open and close modal policy and terms========\n\nrefs.openModalPolicy.addEventListener('click', () => {\n  onPolicyClick(refs.policyLink);\n  changeListenerPolicy();\n  window.addEventListener('keydown', closeModalPolicyByEsc);\n});\n\nrefs.openModalTerms.addEventListener('click', () => {\n  onPolicyClick(refs.termsLink);\n  changeListenerTerms();\n  window.addEventListener('keydown', closeModalPolicyByEsc);\n});\n\nfunction onPolicyClick(link) {\n  link.classList.remove('is-hidden-policy');\n  document.body.classList.add('.no-scroll');\n}\n\nfunction changeListenerPolicy() {\n  refs.closeModalPolicyBtn.addEventListener('click', onClosePolicyBtn);\n}\n\nfunction onClosePolicyBtn() {\n  refs.policyLink.classList.add('is-hidden-policy');\n  document.body.classList.remove('.no-scroll');\n  removeListenerPolicy();\n}\n\nfunction removeListenerPolicy() {\n  refs.closeModalPolicyBtn.removeEventListener('click', onClosePolicyBtn);\n  window.removeEventListener('keydown', closeModalPolicyByEsc);\n}\n\nfunction changeListenerTerms() {\n  refs.closeModalTermsBtn.addEventListener('click', onCloseTermsBtn);\n}\n\nfunction onCloseTermsBtn() {\n  refs.termsLink.classList.add('is-hidden-policy');\n  document.body.classList.remove('.no-scroll');\n  removeListenerTerms();\n}\nfunction removeListenerTerms() {\n  refs.closeModalTermsBtn.removeEventListener('click', onCloseTermsBtn);\n  window.removeEventListener('keydown', closeModalPolicyByEsc);\n}\n\nfunction closeModalPolicyByEsc({ code }) {\n  if (code === 'Escape') {\n    onClosePolicyBtn();\n    onCloseTermsBtn();\n  }\n}\n","let headerCounter = document.querySelector('.js-header-cart-items');\n\nlet timeID = null;\nlet numberItemsCart = null;\n\nlocalStorageCheckCart();\n\nfunction localStorageCheckCart() {\n  timeID = setInterval(() => {\n    const itemsCartObj = localStorage.getItem('cart');\n    numberItemsCart = JSON.parse(itemsCartObj);\n\n    if (numberItemsCart === null) {\n      headerCounter.innerHTML = '0';\n      return;\n    }\n    headerCounter.innerHTML = `${numberItemsCart.length}`;\n  }, 1000);\n}\n"],"names":["refs","onCloseModal","onBackdropClick","cardImages","img","event","handleImageClick","productId","onOpenModal","cardImagesPopular","handleImageClickPopular","cardImagesDiscount","onClickAddToCart","baseUrl","fetchProductById","axios","error","handleProductDetails","productDetails","isInCart","checkIfProductInCart","isAdded","getCartFromStorage","updateAddToCartButton","buttonText","obj","removeFromCart","addToCart","button","product","cart","item","index","onCloseByEsc","toggleBodyScroll","isModalOpen","ulTag","element","totalPages","page","liTag","beforePages","afterPades","pageLength","leatArrowPagination","rigthArrowPagination","workButtonPagination","buttonsPagination","numberStartPage","btn","buttonPagination","searchPagination","dataFromLS","recordsDataForSearch","searchResult","search","renderCards","hasBtnActive","RequestToTheServer","endPoint","filters","limit","__publicField","response","searchForm","inputSearch","filtersResult","firctSelectSearch","buttonCategories","spanButtonCategories","products","keyword","category","allPagesResult","productsHomePage","inputResultSearch","productsCategories","fullInputResultSearch","littleMediaQuery","bigMediaQuery","letForSearch","messageForError","htmlError","ifEmptyInput","storageDataHomePage","allPages","preProductsHomePage","ifEmptyCategories","storageDataCategories","firstProductsCategoriesFilters","renderCategories","listCategories","productsCategorie","itemCategories","buttonsLiFilters","addListenerLi","addListenerButton","buttonList","workButtonMenu","listButtonMenu","buttonLiFilters","renderEndPoint","nameCategoryForSelect","listResult","infoAboutCard","itemResult","idIconShop","nameCategory","icons","workShopButton","shopButton","idShopButton","ourProduct","odj","cardLS","infoInCardLS","cartButtonStyle","savedProducts","localProducts","createAndAppendProductElements","addFunctionalityToElements","fetchProductsFromServer","request","fetchedData","saveProductsToLocalStorage","productsToDisplay","productsContainer","productTemplate","sprite","addToCartBtn","iconInCart","iconAddToCart","isProductInCart","discountEl","addedProducts","addProductToStorage","p","id","getDiscountProduct","_id","name","price","productsTemplate","renderProducts","markup","cartButtons","el","ev","selectedProduct","onFormSubscriptSubmit","e","email","addUserForSubscription","config","onPolicyClick","changeListenerPolicy","closeModalPolicyByEsc","changeListenerTerms","link","onClosePolicyBtn","removeListenerPolicy","onCloseTermsBtn","removeListenerTerms","code","headerCounter","numberItemsCart","localStorageCheckCart","itemsCartObj"],"mappings":"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"}