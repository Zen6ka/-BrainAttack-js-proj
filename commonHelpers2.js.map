{"version":3,"file":"commonHelpers2.js","sources":["../src/js/filters.js","../src/js/popular.js","../src/js/footer.js","../src/js/modal.js","../src/js/discount.js","../src/js/app.js"],"sourcesContent":["import axios, { all } from 'axios';\n\nexport class RequestToTheServer {\n    baseUrl = 'https://food-boutique.b.goit.study/api/'\n\n    constructor(endPoint, filters, page, limit){\n        this.endPoint = endPoint;\n        this.filters = filters;\n        this.page = page;\n        this.limit = limit;\n    }\n\n    async fetchBreeds(){\n    try{\n        const response = await axios.get(`${this.baseUrl}${this.endPoint}?${this.filters}&page=${this.page}&limit=${this.limit}`);\n        console.log(response.data);\n        return response.data\n    } catch(error){\n        console.error(\"Error:\", error.message);\n    }\n    }\n};\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst searchForm = document.querySelector('.search-form');\nconst inputSearch = document.querySelector('.first-input-search');\nconst filtersResult = document.querySelector('.filters-result');\nconst firctSelectSearch = document.querySelector('.first-select-search-not-focus');\nconst buttonCategories = document.querySelector('.button-categories');\nconst spanButtonCategories = document.querySelector('.span-button-categories');\n\n\nconst products = \"products\";\n\nlet keyword = '';\nlet category = '';\nlet page = 1;\nlet limit = 6;\nlet productsHomePage ={};\nlet inputResultSearch = {};\nlet productsCategories = {};\nlet fullInputResultSearch ={};\n\nlet littleMediaQuery = window.matchMedia('(min-width: 768px)').matches;\nlet bigMediaQuery = window.matchMedia('(min-width: 1280px)').matches;\nif(bigMediaQuery){\n    limit = 9;\n} else if(littleMediaQuery){\n    limit = 8;\n} else{\n    limit = 6;\n}\n\nfunction recordsDataForSearch(keyword, category, page, limit){\n    localStorage.setItem('data-for-search', JSON.stringify(\n        {\n            keyword, \n            category,\n            page,\n            limit\n        }\n        ))\n};\n\nrecordsDataForSearch(keyword, category, page, limit);\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nasync function search () {\n    try{\n        const letForSearch = JSON.parse(localStorage.getItem('data-for-search'));\n    const filters = `keyword=${letForSearch.keyword}&category=${letForSearch.category}`;\n        const classResultProductsWithFilters = new RequestToTheServer(products, filters, page, limit);\n        fullInputResultSearch = await classResultProductsWithFilters.fetchBreeds();\n    } catch (error){\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n    \n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst messageForError = () => {\n    const htmlError = `<div class=\"error\">\n    <p class=\"title-error\">\n        Nothing was found for the selected <span><a class=\"a-title-error\" href=\"\">filters...</a></span>\n    </p>\n    <p class=\"p-error\">\n        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.\n    </p>\n</div>`;\n    filtersResult.innerHTML = htmlError;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////// HOME /// PAGE ////////////////////////////////////////////////////////////\nasync function ifEmptyInput() {\n    try {\n        const storageDataHomePage = localStorage.getItem('products-home-page-filters');\n        if (storageDataHomePage) {\n            const preProductsHomePage = JSON.parse(storageDataHomePage);\n            if(preProductsHomePage.length >= limit){\n                productsHomePage = preProductsHomePage.slice(0, limit)\n            } else {\n                await search();\n            productsHomePage = fullInputResultSearch.results;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n            }\n        } else {\n            await search();\n            productsHomePage = fullInputResultSearch.results;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n        }\n        renderCards(productsHomePage);\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyInput();\n\n//////////////////////////////////////// INPUT ////////////////////////////////////////////////////////////////////\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    keyword = inputSearch.value.trim();\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    renderCards(inputResultSearch);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n});\n\n////////////////////////////////////////// ALL CATEGORIES ////////////////////////////////////////////////////////////////////\n\nasync function ifEmptyCategories() {\n    try {\n        const storageDataCategories = localStorage.getItem('categories-filters');\n        if (storageDataCategories) {\n            productsCategories = JSON.parse(storageDataCategories);\n        } else {\n            const filters = '';\n            const firstProductsCategoriesFilters = `${products}/categories`;\n            const classFirstCategoriesProducts = new RequestToTheServer(firstProductsCategoriesFilters, filters, page, limit);\n            productsCategories = await classFirstCategoriesProducts.fetchBreeds();\n            localStorage.setItem('categories-filters', JSON.stringify(productsCategories));\n        }\n        renderCategories(productsCategories);\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyCategories();\n\nfunction renderCategories(productsCategories){\n    const listCategories = [];\n    productsCategories.forEach((productsCategorie) => {\n        const itemCategories = `<li class=\"li-first-select-search\"><button class=\"button-li-filters\">${productsCategorie.replace(/_/g, ' ').replace(/&/g, '/')}</button></li>`;\n        listCategories.push(itemCategories)\n    });\n    listCategories.push(`<li class=\"li-first-select-search\"><button class=\"button-li-filters\">Show all</button></li>`);\n    firctSelectSearch.insertAdjacentHTML('beforeend', listCategories.join(''));\n    const buttonsLiFilters = document.querySelectorAll('.button-li-filters');\n    addListenerLi(buttonsLiFilters)\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbuttonCategories.addEventListener('click', () => addListenerButton(buttonCategories, firctSelectSearch));\n\nfunction addListenerButton(button, buttonList) {\n    buttonList.classList.add('first-select-search');\n    document.addEventListener('click', (event) => workButtonMenu(event, button, buttonList));\n};\n\nfunction workButtonMenu(event, button, listButtonMenu) {\n    if(!button.contains(event.target)&&!listButtonMenu.contains(event.target)){\n        listButtonMenu.classList.remove('first-select-search')\n    } else if(listButtonMenu.contains(event.target)){\n        setTimeout(() => {\n            listButtonMenu.classList.remove('first-select-search')\n        }, 100)\n    }\n};\n\nfunction addListenerLi(buttonsLiFilters){\n    buttonsLiFilters.forEach((buttonLiFilters) => {\n    buttonLiFilters.addEventListener('click', renderEndPoint)\n})\n};\n\nasync function renderEndPoint(event){\n    const nameCategoryForSelect = event.currentTarget.textContent;\n    category = nameCategoryForSelect.replace(/ /g, '_').replace(/\\//g, '&');\n    spanButtonCategories.innerHTML = `${nameCategoryForSelect}`;\n    if(category === 'Show_all'){\n        category = ''\n    }\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    renderCards(inputResultSearch);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n}\n\n///////////////////////////////////////////////////////  RENDER  CARDS  /////////////////////////////////////////////////////////////\n\nfunction renderCards(products) {\n    const listResult = [];\n    products.forEach((product) => {\n        if(product.is10PercentOff){\n        const itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${product.category.replace(/_/g, ' ').replace(/&/g, '/')}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <div class=\"cartlist-btn\"><button class=\"cardlist-add-cart\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n                </svg>\n                </button>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"discount-for-filter-cards\">\n                <use href=\"../img/icons.svg#icon-discount-1\"></use>\n                </svg>\n                </li>`;\n                listResult.push(itemResult)\n        } else {\n            const itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${product.category.replace(/_/g, ' ').replace(/&/g, '/')}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>    \n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <div class=\"cartlist-btn\"><button class=\"cardlist-add-cart\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n                </svg>\n                </button>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"visually-hidden\">\n                <use href=\"../img/icons.svg#icon-discount-1\"></use>\n                </svg>\n                </li>`;\n                listResult.push(itemResult)\n        }\n    });\n    filtersResult.innerHTML = `<ul class=\"card-list\">${listResult.join(\" \")}</ul>`;\n    workShopButton(products);\n};\n\nfunction workShopButton(products) {\n    const allShopButton = document.querySelectorAll('.cardlist-add-cart');\n    [...allShopButton].forEach((shopButton) => {\n        shopButton.addEventListener('click', (event) => {\n            const idShopButton = event.currentTarget.getAttribute('id');\n            const ourProduct = products.find((odj) => odj._id === idShopButton);\n            const cardLS = localStorage.getItem('card');\n            if(cardLS){\n                const infoInCardLS = JSON.parse(cardLS);\n                infoInCardLS.push(ourProduct);\n                localStorage.setItem('card', JSON.stringify(infoInCardLS));\n            } else{\n                localStorage.setItem('card', JSON.stringify([ourProduct]));\n            }\n            event.currentTarget.innerHTML = `<svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n            <use href=\"../img/icons.svg#icon-check\"></use>\n            </svg>`;\n            event.currentTarget.setAttribute('disabled', 'true');\n        })\n    })\n};","import { RequestToTheServer } from './filters';\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const request = new RequestToTheServer('products/popular?limit=5');\n\n  try {\n    //  отримати дані з локального сховища\n    const productsData = getProductsFromLocalStorage();\n\n    if (!productsData) {\n      // Якщо дані відсутні в локальному сховищі, отримуйте їх з сервера\n      const fetchedData = await request.fetchBreeds();\n\n      // Збереження  в локальному сховищі\n      saveProductsToLocalStorage(fetchedData);\n\n      // отримані дані для відображення продуктів\n      displayProducts(fetchedData);\n    } else {\n      // дані з локального сховища для відображення продуктів\n      displayProducts(productsData);\n    }\n    cartButtonStyle();\n  } catch (error) {\n    console.error('Error:', error);\n  }\n});\n\nfunction saveProductsToLocalStorage(products) {\n  //  Збереження продуктів в локальне сховище\n  localStorage.setItem('popularProducts', JSON.stringify(products));\n  cartButtonStyle();\n}\n\nfunction getProductsFromLocalStorage() {\n  //  Отримання  продуктів з локального сховища\n  const storedData = localStorage.getItem('popularProducts');\n  return storedData ? JSON.parse(storedData) : null;\n}\n\nfunction displayProducts(products) {\n  const productContainers = document.querySelectorAll('.product-template');\n\n  // Очистити вміст всіх блоків \"product-template\"\n  productContainers.forEach(container => {\n    container.querySelector('.product-image').src = '';\n    container.querySelector('.product-name').textContent = '';\n    container.querySelector('.category-value').textContent = '';\n    container.querySelector('.size-value').textContent = '';\n    container.querySelector('.popularity-value').textContent = '';\n  });\n\n  products.slice(0, productContainers.length).forEach((product, index) => {\n    const container = productContainers[index];\n    container.style.display = 'flex';\n\n    // Заповнити дані блоку з даними з сервера\n    container.querySelector('.product-image').src = product.img;\n    container.querySelector('.product-name').textContent = product.name;\n    container.querySelector('.category-value').textContent =\n      product.category.replace('_', ' ');\n    container.querySelector('.size-value').textContent = product.size;\n    container.querySelector('.popularity-value').textContent =\n      product.popularity;\n    const productInfo = {\n      _Id: product._id,\n      name: product.name,\n      img: product.img,\n      category: product.category,\n      price: product.price,\n      size: product.size,\n      is10PercentOff: product.is10PercentOff,\n      popularity: product.popularity,\n    };\n\n    // Налаштування слухача подій для кліку на фото\n    const addIdImg = container.querySelector('.product-image-container');\n    addIdImg.addEventListener('click', function () {\n      // Створюємо масив з одного елемента - нової інформації про продукт\n      let populArray = [productInfo];\n\n      // Зберігаємо оновлений масив у локальне сховище\n      localStorage.setItem('popul', JSON.stringify(populArray));\n    });\n    // Налаштування слухача подій для кліку на кнопку \"Додати в кошик\"\n    const addToCartBtn = container.querySelector('.add-to-cart-btn');\n    addToCartBtn.onclick = function () {\n      addToCart(productInfo);\n      updateCart();\n    };\n    addToCartBtn.setAttribute('data-product-id', product._id);\n  });\n}\n\n// Функція для додавання продукту в кошик\nexport function addToCart(productInfo) {\n  // Отримуємо масив продуктів з локального сховища\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  // Перевіряємо, чи товар вже є в кошику\n  const existingProductIndex = cart.findIndex(\n    item => item._Id === productInfo._Id\n  );\n\n  if (existingProductIndex !== -1) {\n    // Якщо товар вже є в кошику, видаляємо його\n    cart.splice(existingProductIndex, 1);\n  } else {\n    // Якщо товару немає в кошику, додаємо його\n    cart.push(productInfo);\n  }\n\n  // Оновлюємо кошик у локальному сховищі\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCart();\n  // Оновлюємо стиль кнопок після зміни кошика\n  cartButtonStyle();\n}\n\n// Функція для оновлення стилю кнопок\nexport function cartButtonStyle() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const addToCartButtons = document.querySelectorAll('.cart-btn');\n\n  addToCartButtons.forEach(btn => {\n    const _Id = btn.getAttribute('data-product-id');\n    const iconInCart = btn.querySelector('.icon-off');\n    const iconAddToCart = btn.querySelector('.icon-on');\n    const isProductInCart = cart.some(item => item._Id === _Id);\n\n    if (iconInCart && iconAddToCart) {\n      if (isProductInCart) {\n        btn.classList.add('added-to-cart');\n        iconInCart.style.display = 'block';\n        iconAddToCart.style.display = 'none';\n      } else {\n        btn.classList.remove('added-to-cart');\n        iconInCart.style.display = 'none';\n        iconAddToCart.style.display = 'block';\n      }\n    }\n  });\n}\n\n// Виклик події \"cartUpdated\" після зміни кошика\nexport function updateCart() {\n  document.dispatchEvent(new CustomEvent('cartUpdated'));\n}\n\n// Обробник події \"cartUpdated\"\ndocument.addEventListener('cartUpdated', () => {\n  cartButtonStyle();\n});\n","import axios from 'axios';\n\nimport { RequestToTheServer } from './filters';\n\nconst refs = {\n  // ---------------for form subscription--------------\n\n  formSubscription: document.querySelector('.footer-form'),\n\n  // ----------------for modal window_____________\n\n  openModalPolicy: document.querySelector('.js-modal-policy-open'),\n  openModalTerms: document.querySelector('.js-modal-terms-open'),\n  closeModalPolicyBtn: document.querySelector('.js-policy-close'),\n  closeModalTermsBtn: document.querySelector('.js-terms-close'),\n  policyLink: document.querySelector('.js-policy'),\n  termsLink: document.querySelector('.js-terms'),\n};\n\n//==============form subscription=========\n\nrefs.formSubscription.addEventListener('submit', onFormSubscriptSubmit);\n\nconst postRequest = new RequestToTheServer();\npostRequest.endPoint = 'subscription';\n\nfunction onFormSubscriptSubmit(e) {\n  e.preventDefault();\n\n  const email = e.currentTarget.elements.email.value;\n\n  addUserForSubscription(email);\n}\n\nasync function addUserForSubscription(email) {\n  axios.defaults.baseURL = postRequest.baseUrl;\n  const config = {\n    method: 'post',\n    url: postRequest.endPoint,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: { email: email },\n  };\n  try {\n    const response = await axios.request(config);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//==============open and close modal policy and terms========\n\nrefs.openModalPolicy.addEventListener('click', () => {\n  onPolicyClick();\n  refs.closeModalPolicyBtn.addEventListener('click', onPolicyClick);\n});\n\nrefs.openModalTerms.addEventListener('click', () => {\n  onTermsClick();\n  refs.closeModalTermsBtn.addEventListener('click', onTermsClick);\n});\n\nfunction onPolicyClick() {\n  refs.policyLink.classList.toggle('is-hidden-policy');\n}\nfunction onTermsClick() {\n  refs.termsLink.classList.toggle('is-hidden-policy');\n}\n// document.body.classList.add('.no-scroll');\n// document.body.classList.remove('.no-scroll');\n","import axios from 'axios';\n\nconst refs = {\n  openModalBtn: document.querySelector('[data-action=\"open-modal\"]'),\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\n  backdrop: document.querySelector('.js-backdrop'),\n  addToCart: document.querySelector('.modal-btn-sabmit'),\n  discountProduct: document.querySelector('.modal-discount-svg'),\n  onCart: document.querySelector('.modal-btn-sabmit-span'),\n  modalImg: document.querySelector('.modal-img img'),\n  modalTitle: document.querySelector('.modal-title'),\n  modalCategory: document.querySelector(\n    '.modal-list li:nth-child(1) .modal-item-span'\n  ),\n  modalSize: document.querySelector(\n    '.modal-list li:nth-child(2) .modal-item-span'\n  ),\n  modalPopularity: document.querySelector(\n    '.modal-list li:nth-child(3) .modal-item-span'\n  ),\n  modalDesc: document.querySelector('.modal-info-taxt'),\n  modalPrice: document.querySelector('.modal-price'),\n};\n\n// Слухачі\nrefs.openModalBtn.addEventListener('click', () =>\n  onOpenModal(refs.openModalBtn.dataset.productId)\n);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nconst cardImages = document.querySelectorAll('.cardlist-img');\ncardImages.forEach(img => {\n  img.addEventListener('click', event => handleImageClick(event));\n});\n\n// Зовнішній URL для запитів\nconst baseUrl = 'https://food-boutique.b.goit.study/api/';\n\n// Оновлюємо інтерфейс модального вікна при відкритті\nasync function onOpenModal(productId) {\n  // Додаємо слухач\n  window.addEventListener('keydown', onCloseByEsc);\n  document.body.classList.add('show-modal');\n\n  // Перевіряємо, чи продукт вже в корзині\n  await handleProductDetails(productId);\n  checkIfProductInCart(productId);\n  toggleBodyScroll();\n}\n\n// Запит за допомогою Axios\nasync function fetchProductById(productId) {\n  try {\n    const response = await axios.get(`${baseUrl}products/${productId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error.message);\n    return null;\n  }\n}\n\n// Відмальовка в модалку\nasync function handleProductDetails(productId) {\n  const productDetails = await fetchProductById(productId);\n\n  if (productDetails) {\n    refs.modalImg.src = productDetails.img;\n    refs.modalImg.alt = productDetails.name;\n    refs.modalTitle.textContent = productDetails.name;\n    refs.modalCategory.textContent = productDetails.category;\n    refs.modalSize.textContent = productDetails.size;\n    refs.modalPopularity.textContent = productDetails.popularity;\n    refs.modalDesc.textContent = productDetails.desc;\n    refs.modalPrice.textContent = `$${productDetails.price.toFixed(2)}`;\n\n    // Перевіряємо чи продукт в корзині\n    const isInCart = checkIfProductInCart(productId);\n    const isAdded = getCartFromStorage().includes(productId);\n\n    // Оновлюємо текст кнопки\n    updateAddToCartButton(isInCart, isAdded);\n  }\n}\n\n// Міняю текст кнопки в залежності чи в корзині продукт\nfunction updateAddToCartButton(isInCart, isAdded) {\n  const buttonText = isInCart ? 'Remove from' : isAdded ? 'Added to' : 'Add to';\n  refs.addToCart.querySelector('.modal-btn-sabmit-span').textContent =\n    buttonText;\n  refs.addToCart.disabled = isInCart; // кнопка не активна якщо товар в корзині\n}\n\n// Перевіряєм чи продукт вже в корзині\nfunction checkIfProductInCart(productId) {\n  let cart = getCartFromStorage();\n  const isInCart = cart.includes(productId);\n\n  // Додавання слухача для кнопки\n  refs.addToCart.addEventListener('click', () => {\n    if (isInCart) {\n      // Видалення товару з корзини\n      removeFromCart(productId);\n      // Оновлюємо текст кнопки та робимо її неактивною\n      updateAddToCartButton(false, false);\n    } else {\n      // Товару немає в кошику, додаємо\n      addToCart(productId);\n      // Оновлюємо текст кнопки\n      updateAddToCartButton(true, true);\n    }\n  });\n\n  return isInCart;\n}\n\n// Функція для отримання корзини з локального сховища\nfunction getCartFromStorage() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  return cart;\n}\n\n// Функція для додавання продукту до корзини в локальному сховищі\nfunction addToCart(productId) {\n  let cart = getCartFromStorage();\n  if (!cart.includes(productId)) {\n    cart.push(productId);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\n\n// Функція для видалення продукту з корзини в локальному сховищі\nfunction removeFromCart(productId) {\n  let cart = getCartFromStorage();\n  const index = cart.indexOf(productId);\n  if (index !== -1) {\n    cart.splice(index, 1);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\n\n// Закритя модального вікна\nfunction onCloseModal() {\n  // Зняв слухач\n  window.removeEventListener('keydown', onCloseByEsc);\n  document.body.classList.remove('show-modal');\n  toggleBodyScroll();\n}\n\n// Закритя модального вікна по кліку за модалку (на темний фон)\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\n// Закритя модального вікна по Esc\nfunction onCloseByEsc(event) {\n  if (event.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction isModalOpen() {\n  return document.body.classList.contains('show-modal');\n}\n\nfunction toggleBodyScroll() {\n  document.body.style.overflow = isModalOpen() ? 'hidden' : '';\n}\n","import axios from 'axios';\n\nconst discountEl = document.querySelector('.discount-container');\n\nlet products = [];\n\nconst addIdToStorage = id => {\n  if (localStorage.getItem('addedProducts')) {\n    const item = JSON.parse(localStorage.getItem('addedProducts'));\n    // console.log(item.includes(id));\n    if (!item.includes(id)) {\n      item.push(id);\n      //   console.log(item);\n      localStorage.setItem('addedProducts', JSON.stringify(item));\n    }\n  } else {\n    localStorage.setItem('addedProducts', JSON.stringify([id]));\n  }\n\n  //   console.log(document.querySelector(`[data-id=\"${id}\"]`).querySelector('use'));\n};\n\nconst buttonIcon = id => {\n  if (localStorage.getItem('addedProducts')) {\n    return JSON.parse(localStorage.getItem('addedProducts')).includes(id)\n      ? 'icon-check'\n      : 'icon-heroicons-solid_shopping-cart';\n  }\n  return 'icon-heroicons-solid_shopping-cart';\n};\n\nasync function getDiscountProduct() {\n  try {\n    const res = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/discount'\n    );\n    products = res.data;\n    // console.log(products);\n\n    function productTemplate(product) {\n      const { _id, name, img, price } = product;\n\n      return `<div class=\"discount-card\">\n                  <div class=\"discount-logo\">\n                  <svg class=\"logo\">\n                      <use href=\"../img/icons.svg#icon-discount\" width=\"60\" height=\"60\"></use>\n                  </svg>\n                  </div>\n                  <div class=\"discount-card-image\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"114\" height=\"'114\" />\n                  </div>\n                  <div class=\"discount-card-info\">\n                  <div class=\"discount-card-name\">\n                      <p class=\"discount-card-text\">${name}</p>\n                  </div>\n  \n                  <div class=\"discount-card-price\">\n                      <p class=\"discount-card-text\">$${price}</p>\n  \n                      <button class=\"discount-card-button\" type=\"button\" data-id=${_id}>\n                      <svg class=\"\">\n                          <use href=\"../img/icons.svg#${buttonIcon(_id)}\"></use>\n                      </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>`;\n    }\n\n    function productsTemplate(products) {\n      return products.slice(0, 2).map(productTemplate).join('');\n    }\n\n    function renderProducts() {\n      const markup = productsTemplate(products);\n      discountEl.innerHTML = markup;\n    }\n\n    renderProducts();\n\n    const cartButtons = document.querySelectorAll('.discount-card-button');\n    Array.from(cartButtons).forEach(el => {\n      el.addEventListener('click', ev => {\n        // console.log(ev.currentTarget.dataset.id);\n        addIdToStorage(ev.currentTarget.dataset.id);\n      });\n    });\n  } catch (error) {\n    console.error('Error fetching discount products:', error.message);\n  }\n}\n\ngetDiscountProduct();\n","// -----------------------------2variant-----------------------\nconst ulTag = document.querySelector(\"ul\");\nlet totalPages = 8;\n\nfunction element(totalPages, page){\n  let liTag = '';\n  let activeLi;\n  let beforePages = page - 1;\n  let afterPades = page;\n   if(page > 1){\n     liTag += `<li class=\"btn prev\" onclick=\"element(totalPages, ${page - 1})\"><span><i class=\"left\"></i> < </span></li>`;\n   }\n  // if(page > 1){\n  //   if(page < totalPages + 1)\n  //   liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>1</span></li>`;\n  //      if(page > 2){\n  //     liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>2</span></li>`;\n  //     if(page > totalPages - 8){\n  //     liTag += `<li class=\"dots\"><span>...</span></li>`;\n  //    }\n  //   }\n  // }\n    for (let pageLength = beforePages; pageLength <= afterPades; pageLength++){\n    if(pageLength > totalPages){\n      continue;\n    }\n    if(pageLength == 0){\n      pageLength = pageLength + 1;\n    }\n    if(page == pageLength){\n      activeLi = \"active\";\n    }else{\n      activeLi = \"\";\n    }\n    liTag += `<li class=\"numb ${activeLi}\"onclick=\"element(totalPages, ${pageLength})\"><span>${pageLength}</span></li>`;\n  }\n  if(page < totalPages){\n    if(page < totalPages){\n    liTag += `<li class=\"dots\"><span>...</span></li>`;\n    if(page < totalPages + 1){\n      liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>7</span></li>`;  \n    if(page <= totalPages +2){\n      liTag += `<li class=\"numb\" onclick=\"element(totalPages, ${page})\"><span>8</span></li>`;\n    }\n  }\n }\n  }\n   if(page < totalPages){\n     liTag += `<li class=\"btn next\"onclick=\"element(totalPages, ${page +1})\"><span><i class=\"right\"></i> > </span></li>`;\n   }\n  ulTag.innerHTML = liTag;\n}\n\nelement(totalPages, 2);"],"names":["RequestToTheServer","endPoint","filters","page","limit","__publicField","response","axios","error","searchForm","inputSearch","filtersResult","firctSelectSearch","buttonCategories","spanButtonCategories","products","keyword","category","productsHomePage","inputResultSearch","productsCategories","fullInputResultSearch","littleMediaQuery","bigMediaQuery","recordsDataForSearch","search","letForSearch","messageForError","htmlError","ifEmptyInput","storageDataHomePage","preProductsHomePage","renderCards","event","ifEmptyCategories","storageDataCategories","firstProductsCategoriesFilters","renderCategories","listCategories","productsCategorie","itemCategories","buttonsLiFilters","addListenerLi","addListenerButton","button","buttonList","workButtonMenu","listButtonMenu","buttonLiFilters","renderEndPoint","nameCategoryForSelect","listResult","product","itemResult","workShopButton","shopButton","idShopButton","ourProduct","odj","cardLS","infoInCardLS","request","productsData","getProductsFromLocalStorage","displayProducts","fetchedData","saveProductsToLocalStorage","cartButtonStyle","storedData","productContainers","container","index","productInfo","populArray","addToCartBtn","addToCart","updateCart","cart","existingProductIndex","item","btn","_Id","iconInCart","iconAddToCart","isProductInCart","refs","onFormSubscriptSubmit","postRequest","email","addUserForSubscription","config","onPolicyClick","onTermsClick","onOpenModal","onCloseModal","onBackdropClick","cardImages","img","baseUrl","productId","onCloseByEsc","handleProductDetails","checkIfProductInCart","toggleBodyScroll","fetchProductById","productDetails","isInCart","isAdded","getCartFromStorage","updateAddToCartButton","buttonText","removeFromCart","isModalOpen","discountEl","addIdToStorage","id","buttonIcon","getDiscountProduct","productTemplate","_id","name","price","productsTemplate","renderProducts","markup","cartButtons","el","ev","ulTag","totalPages","element","liTag","activeLi","beforePages","afterPades","pageLength"],"mappings":"0PAEO,MAAMA,CAAmB,CAG5B,YAAYC,EAAUC,EAASC,EAAMC,EAAM,CAF3CC,EAAA,eAAU,2CAGN,KAAK,SAAWJ,EAChB,KAAK,QAAUC,EACf,KAAK,KAAOC,EACZ,KAAK,MAAQC,CAChB,CAED,MAAM,aAAa,CACnB,GAAG,CACC,MAAME,EAAW,MAAMC,EAAM,IAAI,GAAG,KAAK,OAAO,GAAG,KAAK,QAAQ,IAAI,KAAK,OAAO,SAAS,KAAK,IAAI,UAAU,KAAK,KAAK,EAAE,EACxH,eAAQ,IAAID,EAAS,IAAI,EAClBA,EAAS,IACnB,OAAOE,EAAM,CACV,QAAQ,MAAM,SAAUA,EAAM,OAAO,CACxC,CACA,CACL,CAIA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAoB,SAAS,cAAc,gCAAgC,EAC3EC,EAAmB,SAAS,cAAc,oBAAoB,EAC9DC,EAAuB,SAAS,cAAc,yBAAyB,EAGvEC,EAAW,WAEjB,IAAIC,EAAU,GACVC,EAAW,GACXd,EAAO,EACPC,EAAQ,EACRc,EAAkB,CAAA,EAClBC,EAAoB,CAAA,EACpBC,EAAqB,CAAA,EACrBC,EAAuB,CAAA,EAEvBC,EAAmB,OAAO,WAAW,oBAAoB,EAAE,QAC3DC,EAAgB,OAAO,WAAW,qBAAqB,EAAE,QAC1DA,EACCnB,EAAQ,EACFkB,EACNlB,EAAQ,EAERA,EAAQ,EAGZ,SAASoB,EAAqBR,EAASC,EAAUd,EAAMC,EAAM,CACzD,aAAa,QAAQ,kBAAmB,KAAK,UACzC,CACI,QAAAY,EACA,SAAAC,EACA,KAAAd,EACA,MAAAC,CACH,CACT,CAAS,CACT,CAEAoB,EAAqBR,EAASC,EAAUd,EAAMC,CAAK,EAGnD,eAAeqB,GAAU,CACrB,GAAG,CACC,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQ,iBAAiB,CAAC,EACrExB,EAAU,WAAWwB,EAAa,OAAO,aAAaA,EAAa,QAAQ,GAE7EL,EAAwB,MADe,IAAIrB,EAAmBe,EAAUb,EAASC,EAAMC,CAAK,EAC/B,aAChE,OAAQI,EAAM,CACXmB,IACA,QAAQ,MAAM,SAAUnB,EAAM,OAAO,CACxC,CAEL,CAIA,MAAMmB,EAAkB,IAAM,CAC1B,MAAMC,EAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQlBjB,EAAc,UAAYiB,CAC9B,EAIA,eAAeC,GAAe,CAC1B,GAAI,CACA,MAAMC,EAAsB,aAAa,QAAQ,4BAA4B,EAC7E,GAAIA,EAAqB,CACrB,MAAMC,EAAsB,KAAK,MAAMD,CAAmB,EACvDC,EAAoB,QAAU3B,EAC7Bc,EAAmBa,EAAoB,MAAM,EAAG3B,CAAK,GAErD,MAAMqB,EAAM,EAChBP,EAAmBG,EAAsB,QACzC,aAAa,QAAQ,6BAA8B,KAAK,UAAUH,CAAgB,CAAC,EAE/F,MACY,MAAMO,EAAM,EACZP,EAAmBG,EAAsB,QACzC,aAAa,QAAQ,6BAA8B,KAAK,UAAUH,CAAgB,CAAC,EAEvFc,EAAYd,CAAgB,CAC/B,OAAQV,EAAO,CACZmB,IACA,QAAQ,MAAM,SAAUnB,EAAM,OAAO,CACxC,CACL,CAEAqB,IAIApB,EAAW,iBAAiB,SAAU,MAAOwB,GAAU,CACnDA,EAAM,eAAc,EACpBjB,EAAUN,EAAY,MAAM,OAC5Bc,EAAqBR,EAASC,EAAUd,EAAMC,CAAK,EACnD,MAAMqB,EAAM,EACZN,EAAoBE,EAAsB,QAC1CW,EAAYb,CAAiB,EAC1BE,EAAsB,aAAe,GACpCM,GAER,CAAC,EAID,eAAeO,GAAoB,CAC/B,GAAI,CACA,MAAMC,EAAwB,aAAa,QAAQ,oBAAoB,EACvE,GAAIA,EACAf,EAAqB,KAAK,MAAMe,CAAqB,MAClD,CACH,MAAMjC,EAAU,GACVkC,EAAiC,GAAGrB,CAAQ,cAElDK,EAAqB,MADgB,IAAIpB,EAAmBoC,EAAgClC,EAASC,EAAMC,CAAK,EACxD,cACxD,aAAa,QAAQ,qBAAsB,KAAK,UAAUgB,CAAkB,CAAC,CAChF,CACDiB,EAAiBjB,CAAkB,CACtC,OAAQZ,EAAO,CACZmB,IACA,QAAQ,MAAM,SAAUnB,EAAM,OAAO,CACxC,CACL,CAEA0B,IAEA,SAASG,EAAiBjB,EAAmB,CACzC,MAAMkB,EAAiB,CAAA,EACvBlB,EAAmB,QAASmB,GAAsB,CAC9C,MAAMC,EAAiB,wEAAwED,EAAkB,QAAQ,KAAM,GAAG,EAAE,QAAQ,KAAM,GAAG,CAAC,iBACtJD,EAAe,KAAKE,CAAc,CAC1C,CAAK,EACDF,EAAe,KAAK,6FAA6F,EACjH1B,EAAkB,mBAAmB,YAAa0B,EAAe,KAAK,EAAE,CAAC,EACzE,MAAMG,EAAmB,SAAS,iBAAiB,oBAAoB,EACvEC,GAAcD,CAAgB,CAClC,CAIA5B,EAAiB,iBAAiB,QAAS,IAAM8B,GAAkB9B,EAAkBD,CAAiB,CAAC,EAEvG,SAAS+B,GAAkBC,EAAQC,EAAY,CAC3CA,EAAW,UAAU,IAAI,qBAAqB,EAC9C,SAAS,iBAAiB,QAAUZ,GAAUa,GAAeb,EAAOW,EAAQC,CAAU,CAAC,CAC3F,CAEA,SAASC,GAAeb,EAAOW,EAAQG,EAAgB,CAChD,CAACH,EAAO,SAASX,EAAM,MAAM,GAAG,CAACc,EAAe,SAASd,EAAM,MAAM,EACpEc,EAAe,UAAU,OAAO,qBAAqB,EAC/CA,EAAe,SAASd,EAAM,MAAM,GAC1C,WAAW,IAAM,CACbc,EAAe,UAAU,OAAO,qBAAqB,CACxD,EAAE,GAAG,CAEd,CAEA,SAASL,GAAcD,EAAiB,CACpCA,EAAiB,QAASO,GAAoB,CAC9CA,EAAgB,iBAAiB,QAASC,EAAc,CAC5D,CAAC,CACD,CAEA,eAAeA,GAAehB,EAAM,CAChC,MAAMiB,EAAwBjB,EAAM,cAAc,YAClDhB,EAAWiC,EAAsB,QAAQ,KAAM,GAAG,EAAE,QAAQ,MAAO,GAAG,EACtEpC,EAAqB,UAAY,GAAGoC,CAAqB,GACtDjC,IAAa,aACZA,EAAW,IAEfO,EAAqBR,EAASC,EAAUd,EAAMC,CAAK,EACnD,MAAMqB,EAAM,EACZN,EAAoBE,EAAsB,QAC1CW,EAAYb,CAAiB,EAC1BE,EAAsB,aAAe,GACpCM,GAER,CAIA,SAASK,EAAYjB,EAAU,CAC3B,MAAMoC,EAAa,CAAA,EACnBpC,EAAS,QAASqC,GAAY,CAC1B,GAAGA,EAAQ,eAAe,CAC1B,MAAMC,EAAa,iDAAiDD,EAAQ,GAAG;AAAA;AAAA,4BAE3DA,EAAQ,GAAG,8CAA8CA,EAAQ,IAAI;AAAA;AAAA,gDAEjDA,EAAQ,IAAI;AAAA;AAAA;AAAA,0FAG8BA,EAAQ,SAAS,QAAQ,KAAM,GAAG,EAAE,QAAQ,KAAM,GAAG,CAAC;AAAA,sFAC1DA,EAAQ,IAAI;AAAA;AAAA,4FAENA,EAAQ,UAAU;AAAA;AAAA,iFAE7BA,EAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAM7CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAK5CD,EAAW,KAAKE,CAAU,CAC1C,KAAe,CACH,MAAMA,EAAa,iDAAiDD,EAAQ,GAAG;AAAA;AAAA,4BAE/DA,EAAQ,GAAG,8CAA8CA,EAAQ,IAAI;AAAA;AAAA,gDAEjDA,EAAQ,IAAI;AAAA;AAAA;AAAA,0FAG8BA,EAAQ,SAAS,QAAQ,KAAM,GAAG,EAAE,QAAQ,KAAM,GAAG,CAAC;AAAA,sFAC1DA,EAAQ,IAAI;AAAA;AAAA,4FAENA,EAAQ,UAAU;AAAA;AAAA,iFAE7BA,EAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAM7CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAK5CD,EAAW,KAAKE,CAAU,CACjC,CACT,CAAK,EACD1C,EAAc,UAAY,yBAAyBwC,EAAW,KAAK,GAAG,CAAC,QACvEG,GAAevC,CAAQ,CAC3B,CAEA,SAASuC,GAAevC,EAAU,CAE9B,CAAC,GADqB,SAAS,iBAAiB,oBAAoB,CACnD,EAAE,QAASwC,GAAe,CACvCA,EAAW,iBAAiB,QAAUtB,GAAU,CAC5C,MAAMuB,EAAevB,EAAM,cAAc,aAAa,IAAI,EACpDwB,EAAa1C,EAAS,KAAM2C,GAAQA,EAAI,MAAQF,CAAY,EAC5DG,EAAS,aAAa,QAAQ,MAAM,EAC1C,GAAGA,EAAO,CACN,MAAMC,EAAe,KAAK,MAAMD,CAAM,EACtCC,EAAa,KAAKH,CAAU,EAC5B,aAAa,QAAQ,OAAQ,KAAK,UAAUG,CAAY,CAAC,CACzE,MACgB,aAAa,QAAQ,OAAQ,KAAK,UAAU,CAACH,CAAU,CAAC,CAAC,EAE7DxB,EAAM,cAAc,UAAY;AAAA;AAAA,oBAGhCA,EAAM,cAAc,aAAa,WAAY,MAAM,CAC/D,CAAS,CACT,CAAK,CACL,CCpSA,SAAS,iBAAiB,mBAAoB,gBAAkB,CAC9D,MAAM4B,EAAU,IAAI7D,EAAmB,0BAA0B,EAEjE,GAAI,CAEF,MAAM8D,EAAeC,KAErB,GAAKD,EAWHE,EAAgBF,CAAY,MAXX,CAEjB,MAAMG,EAAc,MAAMJ,EAAQ,cAGlCK,GAA2BD,CAAW,EAGtCD,EAAgBC,CAAW,CACjC,CAIIE,GACD,OAAQ3D,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CAC9B,CACH,CAAC,EAED,SAAS0D,GAA2BnD,EAAU,CAE5C,aAAa,QAAQ,kBAAmB,KAAK,UAAUA,CAAQ,CAAC,EAChEoD,GACF,CAEA,SAASJ,IAA8B,CAErC,MAAMK,EAAa,aAAa,QAAQ,iBAAiB,EACzD,OAAOA,EAAa,KAAK,MAAMA,CAAU,EAAI,IAC/C,CAEA,SAASJ,EAAgBjD,EAAU,CACjC,MAAMsD,EAAoB,SAAS,iBAAiB,mBAAmB,EAGvEA,EAAkB,QAAQC,GAAa,CACrCA,EAAU,cAAc,gBAAgB,EAAE,IAAM,GAChDA,EAAU,cAAc,eAAe,EAAE,YAAc,GACvDA,EAAU,cAAc,iBAAiB,EAAE,YAAc,GACzDA,EAAU,cAAc,aAAa,EAAE,YAAc,GACrDA,EAAU,cAAc,mBAAmB,EAAE,YAAc,EAC/D,CAAG,EAEDvD,EAAS,MAAM,EAAGsD,EAAkB,MAAM,EAAE,QAAQ,CAACjB,EAASmB,IAAU,CACtE,MAAMD,EAAYD,EAAkBE,CAAK,EACzCD,EAAU,MAAM,QAAU,OAG1BA,EAAU,cAAc,gBAAgB,EAAE,IAAMlB,EAAQ,IACxDkB,EAAU,cAAc,eAAe,EAAE,YAAclB,EAAQ,KAC/DkB,EAAU,cAAc,iBAAiB,EAAE,YACzClB,EAAQ,SAAS,QAAQ,IAAK,GAAG,EACnCkB,EAAU,cAAc,aAAa,EAAE,YAAclB,EAAQ,KAC7DkB,EAAU,cAAc,mBAAmB,EAAE,YAC3ClB,EAAQ,WACV,MAAMoB,EAAc,CAClB,IAAKpB,EAAQ,IACb,KAAMA,EAAQ,KACd,IAAKA,EAAQ,IACb,SAAUA,EAAQ,SAClB,MAAOA,EAAQ,MACf,KAAMA,EAAQ,KACd,eAAgBA,EAAQ,eACxB,WAAYA,EAAQ,UAC1B,EAGqBkB,EAAU,cAAc,0BAA0B,EAC1D,iBAAiB,QAAS,UAAY,CAE7C,IAAIG,EAAa,CAACD,CAAW,EAG7B,aAAa,QAAQ,QAAS,KAAK,UAAUC,CAAU,CAAC,CAC9D,CAAK,EAED,MAAMC,EAAeJ,EAAU,cAAc,kBAAkB,EAC/DI,EAAa,QAAU,UAAY,CACjCC,GAAUH,CAAW,EACrBI,GACN,EACIF,EAAa,aAAa,kBAAmBtB,EAAQ,GAAG,CAC5D,CAAG,CACH,CAGO,SAASuB,GAAUH,EAAa,CAErC,IAAIK,EAAO,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAGvD,MAAMC,EAAuBD,EAAK,UAChCE,GAAQA,EAAK,MAAQP,EAAY,GACrC,EAEMM,IAAyB,GAE3BD,EAAK,OAAOC,EAAsB,CAAC,EAGnCD,EAAK,KAAKL,CAAW,EAIvB,aAAa,QAAQ,OAAQ,KAAK,UAAUK,CAAI,CAAC,EACjDD,IAEAT,GACF,CAGO,SAASA,GAAkB,CAChC,MAAMU,EAAO,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAChC,SAAS,iBAAiB,WAAW,EAE7C,QAAQG,GAAO,CAC9B,MAAMC,EAAMD,EAAI,aAAa,iBAAiB,EACxCE,EAAaF,EAAI,cAAc,WAAW,EAC1CG,EAAgBH,EAAI,cAAc,UAAU,EAC5CI,EAAkBP,EAAK,KAAKE,GAAQA,EAAK,MAAQE,CAAG,EAEtDC,GAAcC,IACZC,GACFJ,EAAI,UAAU,IAAI,eAAe,EACjCE,EAAW,MAAM,QAAU,QAC3BC,EAAc,MAAM,QAAU,SAE9BH,EAAI,UAAU,OAAO,eAAe,EACpCE,EAAW,MAAM,QAAU,OAC3BC,EAAc,MAAM,QAAU,SAGtC,CAAG,CACH,CAGO,SAASP,GAAa,CAC3B,SAAS,cAAc,IAAI,YAAY,aAAa,CAAC,CACvD,CAGA,SAAS,iBAAiB,cAAe,IAAM,CAC7CT,GACF,CAAC,ECpJD,MAAMkB,EAAO,CAGX,iBAAkB,SAAS,cAAc,cAAc,EAIvD,gBAAiB,SAAS,cAAc,uBAAuB,EAC/D,eAAgB,SAAS,cAAc,sBAAsB,EAC7D,oBAAqB,SAAS,cAAc,kBAAkB,EAC9D,mBAAoB,SAAS,cAAc,iBAAiB,EAC5D,WAAY,SAAS,cAAc,YAAY,EAC/C,UAAW,SAAS,cAAc,WAAW,CAC/C,EAIAA,EAAK,iBAAiB,iBAAiB,SAAUC,EAAqB,EAEtE,MAAMC,EAAc,IAAIvF,EACxBuF,EAAY,SAAW,eAEvB,SAASD,GAAsB,EAAG,CAChC,EAAE,eAAc,EAEhB,MAAME,EAAQ,EAAE,cAAc,SAAS,MAAM,MAE7CC,GAAuBD,CAAK,CAC9B,CAEA,eAAeC,GAAuBD,EAAO,CAC3CjF,EAAM,SAAS,QAAUgF,EAAY,QACrC,MAAMG,EAAS,CACb,OAAQ,OACR,IAAKH,EAAY,SACjB,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,CAAE,MAAOC,CAAO,CAC1B,EACE,GAAI,CAEF,OADiB,MAAMjF,EAAM,QAAQmF,CAAM,GAC3B,IACjB,OAAQlF,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAIA6E,EAAK,gBAAgB,iBAAiB,QAAS,IAAM,CACnDM,IACAN,EAAK,oBAAoB,iBAAiB,QAASM,CAAa,CAClE,CAAC,EAEDN,EAAK,eAAe,iBAAiB,QAAS,IAAM,CAClDO,IACAP,EAAK,mBAAmB,iBAAiB,QAASO,CAAY,CAChE,CAAC,EAED,SAASD,GAAgB,CACvBN,EAAK,WAAW,UAAU,OAAO,kBAAkB,CACrD,CACA,SAASO,GAAe,CACtBP,EAAK,UAAU,UAAU,OAAO,kBAAkB,CACpD,CCnEA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,4BAA4B,EACjE,cAAe,SAAS,cAAc,6BAA6B,EACnE,SAAU,SAAS,cAAc,cAAc,EAC/C,UAAW,SAAS,cAAc,mBAAmB,EACrD,gBAAiB,SAAS,cAAc,qBAAqB,EAC7D,OAAQ,SAAS,cAAc,wBAAwB,EACvD,SAAU,SAAS,cAAc,gBAAgB,EACjD,WAAY,SAAS,cAAc,cAAc,EACjD,cAAe,SAAS,cACtB,8CACD,EACD,UAAW,SAAS,cAClB,8CACD,EACD,gBAAiB,SAAS,cACxB,8CACD,EACD,UAAW,SAAS,cAAc,kBAAkB,EACpD,WAAY,SAAS,cAAc,cAAc,CACnD,EAGAA,EAAK,aAAa,iBAAiB,QAAS,IAC1CQ,GAAYR,EAAK,aAAa,QAAQ,SAAS,CACjD,EACAA,EAAK,cAAc,iBAAiB,QAASS,CAAY,EACzDT,EAAK,SAAS,iBAAiB,QAASU,EAAe,EAEvD,MAAMC,GAAa,SAAS,iBAAiB,eAAe,EAC5DA,GAAW,QAAQC,GAAO,CACxBA,EAAI,iBAAiB,QAAShE,GAAS,iBAAiBA,CAAK,CAAC,CAChE,CAAC,EAGD,MAAMiE,GAAU,0CAGhB,eAAeL,GAAYM,EAAW,CAEpC,OAAO,iBAAiB,UAAWC,CAAY,EAC/C,SAAS,KAAK,UAAU,IAAI,YAAY,EAGxC,MAAMC,GAAqBF,CAAS,EACpCG,EAAqBH,CAAS,EAC9BI,GACF,CAGA,eAAeC,GAAiBL,EAAW,CACzC,GAAI,CAEF,OADiB,MAAM5F,EAAM,IAAI,GAAG2F,EAAO,YAAYC,CAAS,EAAE,GAClD,IACjB,OAAQ3F,EAAO,CACd,eAAQ,MAAM,SAAUA,EAAM,OAAO,EAC9B,IACR,CACH,CAGA,eAAe6F,GAAqBF,EAAW,CAC7C,MAAMM,EAAiB,MAAMD,GAAiBL,CAAS,EAEvD,GAAIM,EAAgB,CAClBpB,EAAK,SAAS,IAAMoB,EAAe,IACnCpB,EAAK,SAAS,IAAMoB,EAAe,KACnCpB,EAAK,WAAW,YAAcoB,EAAe,KAC7CpB,EAAK,cAAc,YAAcoB,EAAe,SAChDpB,EAAK,UAAU,YAAcoB,EAAe,KAC5CpB,EAAK,gBAAgB,YAAcoB,EAAe,WAClDpB,EAAK,UAAU,YAAcoB,EAAe,KAC5CpB,EAAK,WAAW,YAAc,IAAIoB,EAAe,MAAM,QAAQ,CAAC,CAAC,GAGjE,MAAMC,EAAWJ,EAAqBH,CAAS,EACzCQ,EAAUC,EAAkB,EAAG,SAAST,CAAS,EAGvDU,EAAsBH,EAAUC,CAAO,CACxC,CACH,CAGA,SAASE,EAAsBH,EAAUC,EAAS,CAChD,MAAMG,EAAaJ,EAAW,cAAgBC,EAAU,WAAa,SACrEtB,EAAK,UAAU,cAAc,wBAAwB,EAAE,YACrDyB,EACFzB,EAAK,UAAU,SAAWqB,CAC5B,CAGA,SAASJ,EAAqBH,EAAW,CAEvC,MAAMO,EADKE,IACW,SAAST,CAAS,EAGxC,OAAAd,EAAK,UAAU,iBAAiB,QAAS,IAAM,CACzCqB,GAEFK,GAAeZ,CAAS,EAExBU,EAAsB,GAAO,EAAK,IAGlClC,GAAUwB,CAAS,EAEnBU,EAAsB,GAAM,EAAI,EAEtC,CAAG,EAEMH,CACT,CAGA,SAASE,GAAqB,CAE5B,OADa,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,EAE3D,CAGA,SAASjC,GAAUwB,EAAW,CAC5B,IAAItB,EAAO+B,IACN/B,EAAK,SAASsB,CAAS,IAC1BtB,EAAK,KAAKsB,CAAS,EACnB,aAAa,QAAQ,OAAQ,KAAK,UAAUtB,CAAI,CAAC,EAErD,CAGA,SAASkC,GAAeZ,EAAW,CACjC,IAAItB,EAAO+B,IACX,MAAMrC,EAAQM,EAAK,QAAQsB,CAAS,EAChC5B,IAAU,KACZM,EAAK,OAAON,EAAO,CAAC,EACpB,aAAa,QAAQ,OAAQ,KAAK,UAAUM,CAAI,CAAC,EAErD,CAGA,SAASiB,GAAe,CAEtB,OAAO,oBAAoB,UAAWM,CAAY,EAClD,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3CG,GACF,CAGA,SAASR,GAAgB9D,EAAO,CAC1BA,EAAM,gBAAkBA,EAAM,QAChC6D,GAEJ,CAGA,SAASM,EAAanE,EAAO,CACvBA,EAAM,OAAS,UACjB6D,GAEJ,CAEA,SAASkB,IAAc,CACrB,OAAO,SAAS,KAAK,UAAU,SAAS,YAAY,CACtD,CAEA,SAAST,GAAmB,CAC1B,SAAS,KAAK,MAAM,SAAWS,GAAa,EAAG,SAAW,EAC5D,CCvKA,MAAMC,GAAa,SAAS,cAAc,qBAAqB,EAE/D,IAAIlG,EAAW,CAAA,EAEf,MAAMmG,GAAiBC,GAAM,CAC3B,GAAI,aAAa,QAAQ,eAAe,EAAG,CACzC,MAAMpC,EAAO,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAExDA,EAAK,SAASoC,CAAE,IACnBpC,EAAK,KAAKoC,CAAE,EAEZ,aAAa,QAAQ,gBAAiB,KAAK,UAAUpC,CAAI,CAAC,EAEhE,MACI,aAAa,QAAQ,gBAAiB,KAAK,UAAU,CAACoC,CAAE,CAAC,CAAC,CAI9D,EAEMC,GAAaD,GACb,aAAa,QAAQ,eAAe,GAC/B,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAAE,SAASA,CAAE,EAChE,aAGC,qCAGT,eAAeE,IAAqB,CAClC,GAAI,CAOF,IAASC,EAAT,SAAyBlE,EAAS,CAChC,KAAM,CAAE,IAAAmE,EAAK,KAAAC,EAAM,IAAAvB,EAAK,MAAAwB,CAAK,EAAKrE,EAElC,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAOiB6C,CAAG,UAAUuB,CAAI;AAAA;AAAA;AAAA;AAAA,sDAIOA,CAAI;AAAA;AAAA;AAAA;AAAA,uDAIHC,CAAK;AAAA;AAAA,mFAEuBF,CAAG;AAAA;AAAA,wDAE9BH,GAAWG,CAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,qBAMlE,EAEQG,EAAT,SAA0B3G,EAAU,CAClC,OAAOA,EAAS,MAAM,EAAG,CAAC,EAAE,IAAIuG,CAAe,EAAE,KAAK,EAAE,CACzD,EAEQK,EAAT,UAA0B,CACxB,MAAMC,EAASF,EAAiB3G,CAAQ,EACxCkG,GAAW,UAAYW,CACxB,EAxCD7G,GAHY,MAAMR,EAAM,IACtB,0DACN,GACmB,KA0CfoH,IAEA,MAAME,EAAc,SAAS,iBAAiB,uBAAuB,EACrE,MAAM,KAAKA,CAAW,EAAE,QAAQC,GAAM,CACpCA,EAAG,iBAAiB,QAASC,GAAM,CAEjCb,GAAea,EAAG,cAAc,QAAQ,EAAE,CAClD,CAAO,CACP,CAAK,CACF,OAAQvH,EAAO,CACd,QAAQ,MAAM,oCAAqCA,EAAM,OAAO,CACjE,CACH,CAEA6G,GAAoB,EC3FpB,MAAMW,GAAQ,SAAS,cAAc,IAAI,EACzC,IAAIC,GAAa,EAEjB,SAASC,GAAQD,EAAY9H,EAAK,CAChC,IAAIgI,EAAQ,GACRC,EACAC,EAAclI,EAAO,EACrBmI,EAAanI,EACbA,EAAO,IACRgI,GAAS,qDAAqDhI,EAAO,CAAC,gDAYvE,QAASoI,EAAaF,EAAaE,GAAcD,EAAYC,IAC1DA,EAAaN,IAGbM,GAAc,IACfA,EAAaA,EAAa,GAEzBpI,GAAQoI,EACTH,EAAW,SAEXA,EAAW,GAEbD,GAAS,mBAAmBC,CAAQ,iCAAiCG,CAAU,YAAYA,CAAU,gBAEpGpI,EAAO8H,GACL9H,EAAO8H,IACVE,GAAS,yCACNhI,EAAO8H,EAAa,IACrBE,GAAS,iDAAiDhI,CAAI,yBAC7DA,GAAQ8H,EAAY,IACrBE,GAAS,iDAAiDhI,CAAI,4BAK9DA,EAAO8H,IACRE,GAAS,oDAAoDhI,EAAM,CAAC,iDAEvE6H,GAAM,UAAYG,CACpB,CAEAD,GAAQD,GAAY,CAAC"}