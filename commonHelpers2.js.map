{"version":3,"file":"commonHelpers2.js","sources":["../src/js/popular.js","../src/js/modal.js","../src/js/app.js","../src/js/discount.js","../src/js/filters.js"],"sourcesContent":["import { RequestToTheServer } from './filters';\nimport { onOpenModal } from './modal';\nimport sprite from '../img/icons.svg';\nimport { localStorageCheckCart } from './header';\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Оновити стиль кнопок при завантаженні сторінки\n  cartButtonStyle();\n\n  const savedProducts = JSON.parse(localStorage.getItem('popularProducts'));\n  let localProducts;\n\n  if (savedProducts && savedProducts.length >= 5) {\n    localProducts = savedProducts.slice(0, 5);\n  } else {\n    localProducts = [];\n  }\n  if (localProducts.length > 0) {\n    createAndAppendProductElements(localProducts);\n    addFunctionalityToElements();\n  } else {\n    fetchProductsFromServer();\n  }\n});\n\nasync function fetchProductsFromServer() {\n  const request = new RequestToTheServer('products/popular', '', 1, 5);\n\n  try {\n    const fetchedData = await request.fetchBreeds();\n\n    saveProductsToLocalStorage(fetchedData);\n\n    const productsToDisplay = fetchedData.slice(0, 5);\n\n    createAndAppendProductElements(productsToDisplay);\n\n    addFunctionalityToElements();\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\nfunction addFunctionalityToElements() {\n  cartButtonStyle();\n}\nconst productsContainer = document.querySelector('.products-container');\n\nfunction saveProductsToLocalStorage(products) {\n  // Збереження продуктів в локальне сховище\n  localStorage.setItem('popularProducts', JSON.stringify(products));\n}\n\nfunction createAndAppendProductElements(products) {\n  products.forEach(product => {\n    // Створити контейнер для продукту\n    const productTemplate = document.createElement('div');\n    productTemplate.classList.add('product-template');\n\n    // Створити розмітку продукту\n    productTemplate.innerHTML = `\n      <div class=\"popular-con\">\n          <div class=\"product-image-container\" data-product-id=\"${\n            product._id\n          }\"> <img src=\"${product.img}\" alt=\"\" class=\"product-image\"></div>\n          <div class=\"product-text\">\n              <h3 class=\"product-name\">${product.name}</h3>\n              <p class=\"product margin\">\n                  Category: <span class=\"category-value\">${product.category.replace(\n                    '_',\n                    ' '\n                  )}</span><br>\n                  Size: <span class=\"size-value\">${product.size}</span><br>\n                  Popularity: <span class=\"popularity-value\">${\n                    product.popularity\n                  }</span>\n              </p>\n          </div>\n      </div>\n      <button class=\"add-to-cart-btn cart-btn\" data-product-id=\"${product._id}\">\n      <svg class=\"ico icon-on\">\n      <use href=\"${sprite}#icon-heroicons-solid_shopping-cart\"></use>\n  </svg>\n          \n  <svg class=\"ico icon-off\" style=\"display: none;\">\n  <use href=\"${sprite}#icon-check\"></use>\n</svg>\n\n      </button>\n    `;\n    // Налаштувати подію для кнопки \"Додати в кошик І модалки\"\n    productsContainer.appendChild(productTemplate);\n    const addToCartImg = productTemplate.querySelector(\n      '.product-image-container'\n    );\n    addToCartImg.addEventListener('click', function () {\n      onOpenModal(product._id);\n    });\n\n    const addToCartBtn = productTemplate.querySelector('.add-to-cart-btn');\n    addToCartBtn.onclick = function () {\n      addToCart(product);\n    };\n  });\n}\n\n// Функція для додавання або видалення товару з кошика\nfunction addToCart(product) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  const existingProductIndex = cart.findIndex(\n    item => item && item._id === product._id\n  );\n  if (existingProductIndex !== -1) {\n  } else {\n    cart.push(product);\n  }\n\n  localStorage.setItem('cart', JSON.stringify(cart));\n  localStorageCheckCart();\n  cartButtonStyle();\n}\n\n// Функція для оновлення стилю кнопок\nexport function cartButtonStyle() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const addToCartButtons = document.querySelectorAll('.cart-btn');\n\n  addToCartButtons.forEach(btn => {\n    const productId = btn.getAttribute('data-product-id');\n    const iconInCart = btn.querySelector('.icon-off');\n    const iconAddToCart = btn.querySelector('.icon-on');\n    const isProductInCart = cart.some(item => item && item._id === productId);\n\n    if (iconInCart && iconAddToCart) {\n      if (isProductInCart) {\n        btn.classList.add('added-to-cart');\n        iconInCart.style.display = 'block';\n        iconAddToCart.style.display = 'none';\n      } else {\n        btn.classList.remove('added-to-cart');\n        iconInCart.style.display = 'none';\n        iconAddToCart.style.display = 'block';\n      }\n    }\n  });\n}\n///////////////////////\nconst scrollUpButton = document.getElementById('scroll-up');\n\nfunction checkScroll() {\n  const totalPageHeight = document.documentElement.scrollHeight;\n  const viewportHeight = window.innerHeight;\n  const scrollRemaining = totalPageHeight - window.scrollY - viewportHeight;\n  if (scrollRemaining < 600) {\n    scrollUpButton.style.display = 'flex';\n  } else {\n    scrollUpButton.style.display = 'none';\n  }\n}\nwindow.addEventListener('scroll', checkScroll);\n\nscrollUpButton.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","import axios from 'axios';\r\nimport { cartButtonStyle } from './popular';\r\nimport { renderCards } from './filters';\r\n\r\nconst refs = {\r\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\r\n  backdrop: document.querySelector('.js-backdrop'),\r\n  addToCart: document.querySelector('.modal-btn-sabmit'),\r\n  discountProduct: document.querySelector('.modal-discount-svg'),\r\n  onCart: document.querySelector('.modal-btn-sabmit-span'),\r\n  modalImg: document.querySelector('.modal-img img'),\r\n  modalTitle: document.querySelector('.modal-title'),\r\n  modalCategory: document.querySelector(\r\n    '.modal-list li:nth-child(1) .modal-item-span'\r\n  ),\r\n  modalSize: document.querySelector(\r\n    '.modal-list li:nth-child(2) .modal-item-span'\r\n  ),\r\n  modalPopularity: document.querySelector(\r\n    '.modal-list li:nth-child(3) .modal-item-span'\r\n  ),\r\n  modalDesc: document.querySelector('.modal-info-taxt'),\r\n  modalPrice: document.querySelector('.modal-price'),\r\n};\r\n\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Слухачі\r\n\r\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\r\nrefs.backdrop.addEventListener('click', onBackdropClick);\r\n//\r\nconst cardImages = document.querySelectorAll('.cardlist-img');\r\ncardImages.forEach(img => {\r\n  img.addEventListener('click', event => handleImageClick(event));\r\n});\r\nexport function handleImageClick(event) {\r\n  const productId = event.currentTarget.closest('.card-list-item').dataset.id;\r\n  onOpenModal(productId);\r\n}\r\n//\r\nconst cardImagesPopular = document.querySelectorAll('.product-image');\r\ncardImagesPopular.forEach(img => {\r\n  img.addEventListener('click', event => handleImageClickPopular(event));\r\n});\r\nfunction handleImageClickPopular(event) {\r\n  const productId =\r\n    event.currentTarget.closest('.product-image-container').dataset.product -\r\n    id;\r\n  onOpenModal(productId);\r\n}\r\n//\r\n\r\nconst discountCardImages = document.querySelectorAll('.discount-card-image');\r\n\r\ndiscountCardImages.forEach(image => {\r\n  image.addEventListener('click', event => {\r\n    const discountCard = event.currentTarget.closest('.discount-card');\r\n\r\n    if (discountCard) {\r\n      const dataId = discountCard.querySelector('.discount-card-button').dataset\r\n        .id;\r\n      onOpenModal(dataId);\r\n    }\r\n  });\r\n});\r\n\r\n// /////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Зовнішній URL для запитів\r\nconst baseUrl = 'https://food-boutique.b.goit.study/api/';\r\n\r\n// Запит за допомогою Axios\r\nasync function fetchProductById(productId) {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}products/${productId}`);\r\n    const responseData = response.data;\r\n    console.log('Product Details:', responseData);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error:', error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Відмальовка в модалку\r\nasync function handleProductDetails(productId) {\r\n  const productDetails = await fetchProductById(productId);\r\n\r\n  if (productDetails) {\r\n    refs.modalImg.src = productDetails.img;\r\n    refs.modalImg.alt = productDetails.name;\r\n    refs.modalTitle.textContent = productDetails.name;\r\n    refs.modalCategory.textContent = productDetails.category;\r\n    refs.modalSize.textContent = productDetails.size;\r\n    refs.modalPopularity.textContent = productDetails.popularity;\r\n    refs.modalDesc.textContent = productDetails.desc;\r\n    refs.modalPrice.textContent = `$${productDetails.price.toFixed(2)}`;\r\n\r\n    // Перевіряємо чи продукт в корзині\r\n    const isInCart = checkIfProductInCart(productDetails);\r\n\r\n    // Оновлюємо текст кнопки\r\n    updateAddToCartButton(isInCart, productDetails);\r\n\r\n    if (productDetails.is10PercentOff) {\r\n      refs.discountProduct.classList.remove('hidden');\r\n    } else {\r\n      refs.discountProduct.classList.add('hidden');\r\n    }\r\n  } else {\r\n    console.error('Product details not available.');\r\n  }\r\n}\r\n\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n// Міняю текст кнопки в залежності чи в корзині продукт\r\nlet lastClickListener = null;\r\n\r\nfunction updateAddToCartButton(isInCart, productDetails) {\r\n  const buttonText = isInCart ? 'Remove from' : 'Add to';\r\n  refs.addToCart.querySelector('.modal-btn-sabmit-span').textContent =\r\n    buttonText;\r\n  refs.addToCart.disabled = false;\r\n\r\n  if (lastClickListener) {\r\n    refs.addToCart.removeEventListener('click', lastClickListener);\r\n  }\r\n\r\n  const clickListener = () => {\r\n    onClickAddToCart(productDetails, isInCart);\r\n  };\r\n\r\n  refs.addToCart.addEventListener('click', clickListener);\r\n  lastClickListener = clickListener;\r\n}\r\n\r\n// Перевіряєм чи продукт вже в корзині\r\nfunction checkIfProductInCart(productDetails) {\r\n  let cart = getCartFromStorage();\r\n  const isInCart = cart.some(obj => obj._id === productDetails._id);\r\n\r\n  return isInCart;\r\n}\r\n\r\n// Функція для отримання корзини з локального сховища\r\nfunction getCartFromStorage() {\r\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\r\n  return cart;\r\n}\r\n\r\nfunction onClickAddToCart(productDetails, isInCart) {\r\n  const productId = productDetails._id;\r\n  if (isInCart) {\r\n    // Видалення товару з корзини\r\n    removeFromCart(productDetails._id);\r\n    // Оновлюємо текст кнопки та робимо її неактивною\r\n    updateAddToCartButton(false, productDetails);\r\n  } else {\r\n    // Товару немає в кошику, додаємо\r\n    addToCart(productDetails);\r\n    // Оновлюємо текст кнопки\r\n    cartButtonStyle();\r\n    updateAddToCartButton(true, productDetails);\r\n  }\r\n  renderCards();\r\n}\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Функція для додавання продукту до корзини в локальному сховищі\r\nfunction addToCart(productDetails) {\r\n  let cart = getCartFromStorage();\r\n  const index = cart.findIndex(obj => obj._id === productDetails._id);\r\n\r\n  if (index !== -1) {\r\n    // Продукт вже є в кошику, оновлюємо його\r\n    cart[index] = { ...productDetails };\r\n  } else {\r\n    // Продукта немає в кошику, додаємо його\r\n    cart.push({ ...productDetails });\r\n  }\r\n\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n}\r\n\r\n// Функція для видалення продукту з корзини в локальному сховищі\r\nfunction removeFromCart(productId) {\r\n  let cart = getCartFromStorage();\r\n  const updatedCart = cart.filter(item => item._id !== productId);\r\n  localStorage.setItem('cart', JSON.stringify(updatedCart));\r\n}\r\n// ////////////////////////////////////////////////////////////////////////////////////////////////\r\n// Оновлюємо інтерфейс модального вікна при відкритті\r\nexport function onOpenModal(productId) {\r\n  // Додаємо слухач\r\n  window.addEventListener('keydown', onCloseByEsc);\r\n  document.body.classList.add('show-modal');\r\n\r\n  // Перевіряємо, чи продукт вже в корзині\r\n  checkIfProductInCart(productId);\r\n  clearModal();\r\n  handleProductDetails(productId);\r\n  toggleBodyScroll();\r\n}\r\nfunction clearModal() {\r\n  refs.modalImg.src = '';\r\n  refs.modalImg.alt = '';\r\n  refs.modalTitle.textContent = '';\r\n  refs.modalCategory.textContent = '';\r\n  refs.modalSize.textContent = '';\r\n  refs.modalPopularity.textContent = '';\r\n  refs.modalDesc.textContent = '';\r\n  refs.modalPrice.textContent = '';\r\n  refs.discountProduct.classList.add('hidden');\r\n}\r\n\r\n// Закритя модального вікна\r\nfunction onCloseModal() {\r\n  // Зняв слухач\r\n  window.removeEventListener('keydown', onCloseByEsc);\r\n  document.body.classList.remove('show-modal');\r\n  toggleBodyScroll();\r\n}\r\n\r\n// Закритя модального вікна по кліку за модалку (на темний фон)\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\n// Закритя модального вікна по Esc\r\nfunction onCloseByEsc(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction isModalOpen() {\r\n  return document.body.classList.contains('show-modal');\r\n}\r\n\r\nfunction toggleBodyScroll() {\r\n  document.body.style.overflow = isModalOpen() ? 'hidden' : '';\r\n}\r\n// ///////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n// const checkoutButton = document.querySelector('.js-email-checkout');\r\n// checkoutButton.addEventListener('click', onCheckoutButtonClick);\r\n\r\n// function onCheckoutButtonClick() {\r\n//   onOpenOrderedModal();\r\n// }\r\n// export async function onOpenOrderedModal() {\r\n//   window.addEventListener('keydown', onCloseByEsc);\r\n//   document.body.classList.add('show-ordered-modal');\r\n//   toggleBodyScroll();\r\n// }\r\n","import { recordsDataForSearch, search, renderCards } from \"./filters\";\n\nconst ulTag = document.querySelector('.pagination-page-list');\nlet leftArrowPagination = '';\nlet rigthArrowPagination = '';\n\n\nexport function element(totalPages, page) {\n  if(totalPages < 1){\n    ulTag.innerHTML = '';\n    return\n  }\n  let liTag = '';\n  let beforePages = page - 1;\n  let afterPades = page;\n  \n  \n\n  \n    if (totalPages > 5) {\n      liTag += `<li><button class=\"btn prev left-arrow-pagination\"><span><i class=\"left\"></i> < </span></button></li>`;\n      liTag += `<li><button class=\"numb first-static-button-pagination visually-hidden\"><span>1</span></button></li>`;\n      liTag += `<li class=\"dots dots-before visually-hidden\"><span>...</span></li>`;\n\n  for (let pageLength = beforePages; pageLength <= afterPades; pageLength++) {\n    if (pageLength > totalPages) {\n      continue;\n    }\n    if (pageLength == 0) {\n      pageLength = pageLength + 1;\n    }\n    \n    liTag += `<li id=\"${pageLength}\"><button class=\"numb button-pagination\"><span>${pageLength}</span></button></li>`;\n  }\n      liTag += `<li class=\"dots dots-pagination\"><span>...</span></li>`;\n      if (page < totalPages + 1) {\n        liTag += `<li id=\"${totalPages-1}\"><button class=\"numb button-pagination\"><span>${totalPages-1}</span></button></li>`;\n        if (page <= totalPages + 2) {\n          liTag += `<li id=\"${totalPages}\"><button class=\"numb button-pagination\"><span>${totalPages}</span></button></li>`;\n        }\n      }\n      liTag += `<li class=\"dots dots-after visually-hidden\"><span>...</span></li>`;\n      liTag += `<li><button class=\"numb last-static-button-pagination visually-hidden\"><span>${totalPages}</span></button></li>`;\n      liTag += `<li><button class=\"btn next right-arrow-pagination\"><span><i class=\"right\"></i> > </span></button></li>`;\n    } else {\n        liTag += `<li><button class=\"btn prev left-arrow-pagination\"><span><i class=\"left\"></i> < </span></button></li>`\n        liTag += `<li class=\"dots dots-before visually-hidden\"><span>...</span></li>`;\n        liTag += `<li class=\"dots dots-pagination visually-hidden\"><span>...</span></li>`;\n\n        for(let i = 1; i<=totalPages; i++){\n          liTag += `<li id=\"${i}\"><button class=\"numb button-pagination\"><span>${i}</span></button></li>`;\n        }\n\n        liTag += `<li class=\"dots dots-after visually-hidden\"><span>...</span></li>`;\n        liTag += `<li><button class=\"btn prev right-arrow-pagination\"><span><i class=\"left\"></i> > </span></button></li>`;\n    } \n  \n  \n  \n  \n  ulTag.innerHTML = liTag;\n  \n  leftArrowPagination = document.querySelector('.left-arrow-pagination');\n  rigthArrowPagination = document.querySelector('.right-arrow-pagination');\n  const buttonsPagination = document.querySelectorAll('.button-pagination');\n  const threeDots = document.querySelector('.dots-pagination');\n  const dotsBefore = document.querySelector('.dots-before');\n  const dotsAfter = document.querySelector('.dots-after');\n  const firstStaticButtonPagination = document.querySelector('.first-static-button-pagination');\n  const lastStaticButtonPagination =document.querySelector('.last-static-button-pagination'); \n\n  let massifButtonsPagination = [...buttonsPagination];\n\n  let littleNumber = massifButtonsPagination[0];\n  let littleNumberPlusOne = '';\n\n  for (let i = 0; i < massifButtonsPagination.length; i++){\n    if(Number(massifButtonsPagination[i].textContent) < Number(littleNumber.textContent)){\n      littleNumber = massifButtonsPagination[i];\n    } else if(Number(massifButtonsPagination[i].textContent) - 1 === Number(littleNumber.textContent)){\n      littleNumberPlusOne = massifButtonsPagination[i];\n    }};\n    \n    let littleNumberMass = [littleNumber, littleNumberPlusOne];\n\n    let bigNumber = massifButtonsPagination[0];\n    let bigNumberMinusOne = '';\n\n    for (let i = 0; i < massifButtonsPagination.length; i++){\n      if(Number(massifButtonsPagination[i].textContent) > Number(bigNumber.textContent)){\n        bigNumber = massifButtonsPagination[i];\n      }};\n\n    for (let i = 0; i < massifButtonsPagination.length; i++){\n      if(Number(massifButtonsPagination[i].textContent) + 1 === Number(bigNumber.textContent)){\n        bigNumberMinusOne = massifButtonsPagination[i];\n      }};\n\n    let bigNumberMass = [bigNumberMinusOne, bigNumber];\n\n  massifButtonsPagination.forEach((buttonPagination) => {\n    buttonPagination.addEventListener('click', (event) => searchPagination(event, totalPages))\n  });\n\n  ///////////////////////////////  LEFT BUTTON ///////////////////////////////////////////////////////////////////////////////////////\n\n  leftArrowPagination.addEventListener('click', async () => {\n    const activeBtn = massifButtonsPagination.find(btn => btn.classList.contains('active'));\n    \n    const numbActiveBtn = Number(activeBtn.textContent);\n    if(numbActiveBtn == 2){\n      leftArrowPagination.classList.add('inactive-button');\n      leftArrowPagination.disabled = true;\n    } else if(numbActiveBtn != totalPages - 1){\n      rigthArrowPagination.classList.remove('inactive-button');\n      rigthArrowPagination.disabled = false;\n    }\n    \n    activeBtn.classList.remove('active');\n    activeBtn.disabled = false;\n    const preActiveBth = massifButtonsPagination.find(btn => btn.textContent === String(numbActiveBtn - 1));\n    if(preActiveBth){\n      preActiveBth.classList.add('active');\n      preActiveBth.disabled = true;\n      if(!dotsAfter.classList.contains('visually-hidden')){\n        threeDots.classList.add('visually-hidden');\n      };\n    } else{\n      threeDots.classList.remove('visually-hidden');\n      const newLi = document.createElement('li');\n      newLi.setAttribute('id', `${numbActiveBtn - 1}`);\n      const newBtn = document.createElement('button');\n      newBtn.classList.add('numb', 'active', 'button-pagination');\n      newBtn.disabled = true;\n      newBtn.innerHTML = `<span>${numbActiveBtn - 1}</span>`;\n      newLi.appendChild(newBtn);\n      \n      if(!dotsBefore.classList.contains('visually-hidden') && littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        dotsBefore.insertAdjacentElement('afterend', newLi);\n      } else if(!dotsBefore.classList.contains('visually-hidden') && !littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        threeDots.insertAdjacentElement('afterend', newLi);\n      } else if(dotsBefore.classList.contains('visually-hidden') && !littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        threeDots.insertAdjacentElement('afterend', newLi);\n      } else{\n        threeDots.insertAdjacentElement('beforebegin', newLi);\n      }\n      massifButtonsPagination.unshift(newBtn);\n\n      if(littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        littleNumberMass.unshift(newBtn);\n      } else{\n        bigNumberMass.unshift(newBtn);\n      };\n      newBtn.addEventListener('click', (event) => searchPagination(event, totalPages));\n    }\n    const activePage = massifButtonsPagination.find(btn => btn.classList.contains('active')).textContent;\n    await searchForPagination(activePage);\n\n    if(littleNumberMass.some(obj => Number(obj.textContent) === Number(activePage))){\n      \n      if(massifButtonsPagination.length > 4){\n        let numberBtnForDelete = massifButtonsPagination[0];\n      for (let i = 0; i < littleNumberMass.length; i++){\n        if(Number(littleNumberMass[i].textContent) > Number(numberBtnForDelete.textContent)){\n          numberBtnForDelete = littleNumberMass[i];\n        }};\n\n        const buttonForDelete = document.getElementById(`${numberBtnForDelete.textContent}`);\n        ulTag.removeChild(buttonForDelete);\n        massifButtonsPagination = massifButtonsPagination.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        \n        littleNumberMass = littleNumberMass.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n      };\n    } else{\n      if(massifButtonsPagination.length > 4){\n        let numberBtnForDelete = massifButtonsPagination[0];\n      for (let i = 0; i < bigNumberMass.length; i++){\n        if(Number(bigNumberMass[i].textContent) > Number(numberBtnForDelete.textContent)){\n          numberBtnForDelete = bigNumberMass[i];\n        }};\n      \n      \n        const buttonForDelete = document.getElementById(`${numberBtnForDelete.textContent}`);\n        ulTag.removeChild(buttonForDelete);\n        massifButtonsPagination = massifButtonsPagination.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        \n        bigNumberMass = bigNumberMass.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        \n        dotsAfter.classList.remove('visually-hidden');\n      };\n    };\n\n    if(massifButtonsPagination.some(obj => Number(obj.textContent) === 1)){\n      dotsBefore.classList.add('visually-hidden');\n    };\n    });\n\n  //////////////////////////////////  RIGTH BUTTON  ////////////////////////////////////////////////////////////////////////////////  \n\n  rigthArrowPagination.addEventListener('click', async () => {\n    const activeBtn = massifButtonsPagination.find(btn => btn.classList.contains('active'));\n    \n    const numbActiveBtn = Number(activeBtn.textContent);\n    if(numbActiveBtn == totalPages - 1){\n      rigthArrowPagination.classList.add('inactive-button');\n      rigthArrowPagination.disabled = true;\n    } else if(numbActiveBtn != 2){\n      leftArrowPagination.classList.remove('inactive-button');\n      leftArrowPagination.disabled = false;\n    }\n    activeBtn.classList.remove('active');\n    activeBtn.disabled = false;\n    const preActiveBth = massifButtonsPagination.find(btn => btn.textContent === String(numbActiveBtn + 1));\n    if(preActiveBth){\n      preActiveBth.classList.add('active');\n      preActiveBth.disabled = true;\n      if(!dotsBefore.classList.contains('visually-hidden')){\n        threeDots.classList.add('visually-hidden');\n      };\n    } else{\n      threeDots.classList.remove('visually-hidden');\n      const newLi = document.createElement('li');\n      newLi.setAttribute('id', `${numbActiveBtn + 1}`);\n      const newBtn = document.createElement('button');\n      newBtn.classList.add('numb', 'active', 'button-pagination');\n      newBtn.disabled = true;\n      newBtn.innerHTML = `<span>${numbActiveBtn + 1}</span>`;\n      newLi.appendChild(newBtn);\n      if(!dotsAfter.classList.contains('visually-hidden') && littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        threeDots.insertAdjacentElement('beforebegin', newLi);\n      } else if(!dotsAfter.classList.contains('visually-hidden') && !littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        dotsAfter.insertAdjacentElement('beforebegin', newLi);\n      } else if(dotsAfter.classList.contains('visually-hidden') && littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        threeDots.insertAdjacentElement('beforebegin', newLi);\n      } else{\n        dotsAfter.insertAdjacentElement('beforebegin', newLi);\n      };\n      massifButtonsPagination.push(newBtn);\n\n      if(littleNumberMass.some(obj => Number(obj.textContent) === numbActiveBtn)){\n        littleNumberMass.push(newBtn);\n      } else{\n        bigNumberMass.push(newBtn);\n      };\n\n      newBtn.addEventListener('click', (event) => searchPagination(event, totalPages));\n    }\n    const activePage = massifButtonsPagination.find(btn => btn.classList.contains('active')).textContent;\n    await searchForPagination(activePage);\n\n    if(littleNumberMass.some(obj => Number(obj.textContent) === Number(activePage))){\n      \n      if(massifButtonsPagination.length > 4){\n        let numberBtnForDelete = massifButtonsPagination[0];\n      for (let i = 0; i < littleNumberMass.length; i++){\n        if(Number(littleNumberMass[i].textContent) < Number(numberBtnForDelete.textContent)){\n          numberBtnForDelete = littleNumberMass[i];\n        }};\n\n        const buttonForDelete = document.getElementById(`${numberBtnForDelete.textContent}`);\n        ulTag.removeChild(buttonForDelete);\n        massifButtonsPagination = massifButtonsPagination.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        \n        littleNumberMass = littleNumberMass.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        \n        dotsBefore.classList.remove('visually-hidden');\n      };\n    } else{\n      if(massifButtonsPagination.length > 4){\n        let numberBtnForDelete = bigNumberMass[0];\n\n      for (let i = 0; i < bigNumberMass.length; i++){\n        if(Number(bigNumberMass[i].textContent) < Number(numberBtnForDelete.textContent)){\n          numberBtnForDelete = bigNumberMass[i];\n        }\n      };\n  \n        const buttonForDelete = document.getElementById(`${numberBtnForDelete.textContent}`);\n        ulTag.removeChild(buttonForDelete);\n        massifButtonsPagination = massifButtonsPagination.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n        bigNumberMass = bigNumberMass.filter(obj => obj.textContent !== numberBtnForDelete.textContent);\n      };\n    }\n\n    if(massifButtonsPagination.some(obj => Number(obj.textContent) === totalPages)){\n      dotsAfter.classList.add('visually-hidden');\n    };\n    });\n  workButtonPagination(leftArrowPagination, rigthArrowPagination, massifButtonsPagination, totalPages)\n};\n\n\n\nfunction workButtonPagination(leftArrowPagination, rigthArrowPagination, massifButtonsPagination, totalPages) {\n  \n  let numberStartPage = '';\n  if(localStorage.getItem('data-for-search')){\n    numberStartPage = JSON.parse(localStorage.getItem('data-for-search')).page;\n  } else{\n    numberStartPage = '1';\n  };\n  const btnStartPage = massifButtonsPagination.filter(btn => btn.textContent === String(numberStartPage));\n  btnStartPage.map((btn) => {\n    btn.classList.add('active');\n    btn.disabled = true;\n    \n    if(btn.textContent === '1' && btn.textContent === String(totalPages)){\n      leftArrowPagination.classList.add('inactive-button');\n      rigthArrowPagination.classList.add('inactive-button');\n      leftArrowPagination.disabled = true;\n      rigthArrowPagination.disabled = true;\n    }else if(btn.textContent === '1'){\n      leftArrowPagination.classList.add('inactive-button');\n      leftArrowPagination.disabled = true;\n    }else if(btn.textContent === String(totalPages)){\n      rigthArrowPagination.classList.add('inactive-button');\n      rigthArrowPagination.disabled = true;\n    } \n  });\n};\n\nasync function searchPagination(event, totalPages){\n  event.currentTarget.removeEventListener('click', searchPagination);\n  event.currentTarget.disabled = true;\n  event.currentTarget.classList.add('active');\n\n  if(event.currentTarget.textContent === '1' && event.currentTarget.textContent === String(totalPages)){\n    leftArrowPagination.classList.add('inactive-button');\n    rigthArrowPagination.classList.add('inactive-button');\n    leftArrowPagination.disabled = true;\n    rigthArrowPagination.disabled = true;\n  }else if(event.currentTarget.textContent === '1'){\n    leftArrowPagination.classList.add('inactive-button');\n    rigthArrowPagination.classList.remove('inactive-button');\n    leftArrowPagination.disabled = true;\n    rigthArrowPagination.disabled = false;\n  }else if(event.currentTarget.textContent === String(totalPages)){\n    rigthArrowPagination.classList.add('inactive-button');\n    leftArrowPagination.classList.remove('inactive-button');\n    leftArrowPagination.disabled = false;\n    rigthArrowPagination.disabled = true;\n  }else{\n    rigthArrowPagination.classList.remove('inactive-button');\n    leftArrowPagination.classList.remove('inactive-button');\n    leftArrowPagination.disabled = false;\n    rigthArrowPagination.disabled = false;\n  }  \n  \n  \n  let page = event.currentTarget.textContent;\n  await searchForPagination(page);\n  const buttonsPaginations = document.querySelectorAll('.button-pagination');\n  [...buttonsPaginations].forEach((btn) => {\n    const hasBtnActive = btn.classList.contains('active');\n    if(hasBtnActive && btn.textContent !== page){\n      btn.classList.remove('active');\n      btn.disabled = false;\n      btn.addEventListener('click', searchPagination)\n    }else if(!hasBtnActive){\n      btn.addEventListener('click', searchPagination)\n    }\n  });\n}\n\nasync function searchForPagination(page){\n  const dataFromLS = JSON.parse(localStorage.getItem('data-for-search'));\n  recordsDataForSearch(dataFromLS.keyword, dataFromLS.category, page, dataFromLS.limit);\n  const resultSearch = await search();\n  const searchResult = resultSearch.results;\n  localStorage.setItem('resultProductsFilrers', JSON.stringify(searchResult));\n  renderCards();\n};\n\n","/*--------------------------------------------------------------------------*/\nimport axios from 'axios';\nimport sprite from '../img/icons.svg';\nimport { renderCards } from './filters';\nimport { localStorageCheckCart } from './header';\nimport { onOpenModal } from './modal';\nconst discountEl = document.querySelector('.discount-container');\nconst CART_KEY = 'cart';\n\nlet products = [];\nlet addedProducts = [];\n\nfunction addToCart(product) {\n  addedProducts = JSON.parse(localStorage.getItem(CART_KEY)) || [];\n\n  const existingProduct = addedProducts.find(p => p._id === product._id);\n\n  if (!existingProduct) {\n    addedProducts.push(product);\n    localStorage.setItem(CART_KEY, JSON.stringify(addedProducts));\n    renderProducts();\n  }\n}\n\nfunction isProductAlreadyInCart(id) {\n  const addedProducts = JSON.parse(localStorage.getItem('cart')) || [];\n  return addedProducts.some(product => product._id === id);\n}\n\nfunction renderProducts() {\n  discountEl.innerHTML = productsTemplate(products);\n  attachButtonClickHandlers();\n}\n\nfunction productsTemplate(products) {\n  return products.slice(0, 2).map(productTemplate).join('');\n}\n\nfunction productTemplate(product) {\n  const { _id, name, img, price } = product;\n  return `<div class=\"discount-card\">\n              <div class=\"discount-logo\">\n                <svg class=\"logo\">\n                  <use href=\"${sprite}#icon-discount-1\" width=\"60\" height=\"60\"></use>\n                </svg>\n              </div>\n              <div class=\"discount-card-image\">\n              <img src=\"${img}\" alt=\"${name}\" data-id=${_id} width=\"114\" height=\"'114\" />\n              </div>\n              <div class=\"discount-card-info\">\n                <div class=\"discount-card-name\">\n                  <p class=\"discount-card-text\">${name}</p>\n                </div>\n                <div class=\"discount-card-price\">\n                  <p class=\"discount-card-text\">$${price}</p>\n                  <button class=\"discount-card-button\" type=\"button\" data-id=${_id}>\n                    <svg class=\"\">\n                      <use href=\"${sprite}#${\n    isProductAlreadyInCart(_id)\n      ? 'icon-check'\n      : 'icon-heroicons-solid_shopping-cart'\n  }\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n          </div>`;\n}\ndiscountEl.addEventListener('click', event => {\n  const imageEl = event.target.closest('.discount-card-image img');\n  const productId = imageEl.dataset.id;\n  onOpenModal(productId);\n});\nexport function handleButtonClick(ev) {\n  const productId = ev.currentTarget.dataset.id;\n  const selectedProduct = products.find(p => p._id === productId);\n  addToCart(selectedProduct);\n  renderCards();\n  localStorageCheckCart();\n}\n\nfunction attachButtonClickHandlers() {\n  const cartButtons = document.querySelectorAll('.discount-card-button');\n  cartButtons.forEach(button => {\n    button.addEventListener('click', handleButtonClick);\n  });\n}\n\nasync function init() {\n  try {\n    const res = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/discount'\n    );\n    products = res.data;\n    addedProducts = JSON.parse(localStorage.getItem(CART_KEY)) || [];\n    renderProducts();\n  } catch (error) {\n    console.error('Error fetching discount products:', error.message);\n  }\n}\n\ninit();\n","import axios, { all } from 'axios';\nimport {onOpenModal} from './modal';\nimport icons from '../img/icons.svg';\nimport {element} from './app';\nimport {cartButtonStyle} from './popular'\nimport {localStorageCheckCart} from './header';\nimport {handleButtonClick} from './discount';\n\nexport class RequestToTheServer {\n    baseUrl = 'https://food-boutique.b.goit.study/api/'\n\n    constructor(endPoint, filters, page, limit){\n        this.endPoint = endPoint;\n        this.filters = filters;\n        this.page = page;\n        this.limit = limit;\n    }\n\n    async fetchBreeds(){\n    try{\n        console.log(`${this.endPoint}?${this.filters}&page=${this.page}&limit=${this.limit}`);\n        const response = await axios.get(`${this.baseUrl}${this.endPoint}?${this.filters}&page=${this.page}&limit=${this.limit}`);\n        console.log(response.data);\n        return response.data\n    } catch(error){\n        console.error(\"Error:\", error.message);\n    }\n    }\n};\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst searchForm = document.querySelector('.search-form');\nconst inputSearch = document.querySelector('.first-input-search');\nconst filtersResult = document.querySelector('.filters-result');\nconst firctSelectSearch = document.querySelector('.first-select-search-not-focus');\nconst buttonCategories = document.querySelector('.button-categories');\nconst spanButtonCategories = document.querySelector('.span-button-categories');\n\n\nconst products = \"products\";\n\nlet keyword = '';\nlet category = '';\nlet page = 1;\nlet limit = 6;\nlet allPagesResult = '';\nlet productsHomePage ={};\nlet inputResultSearch = {};\nlet productsCategories = {};\nlet fullInputResultSearch ={};\n\nlet littleMediaQuery = window.matchMedia('(min-width: 768px)').matches;\nlet bigMediaQuery = window.matchMedia('(min-width: 1440px)').matches;\nif(bigMediaQuery){\n    limit = 9;\n} else if(littleMediaQuery){\n    limit = 8;\n} else{\n    limit = 6;\n}\n\nexport function recordsDataForSearch(keyword, category, page, limit){\n    localStorage.setItem('data-for-search', JSON.stringify(\n        {\n            keyword, \n            category,\n            page,\n            limit\n        }\n        ))\n};\n\nrecordsDataForSearch(keyword, category, page, limit);\n///////////////////////////////////////  SEARCH  /////////////////////////////////////////////////////////////////////////////\n\nexport async function search() {\n    try{\n        const letForSearch = JSON.parse(localStorage.getItem('data-for-search'));\n    const filters = `keyword=${letForSearch.keyword}&category=${letForSearch.category}`;\n        const classResultProductsWithFilters = new RequestToTheServer(products, filters, letForSearch.page, letForSearch.limit);\n        fullInputResultSearch = await classResultProductsWithFilters.fetchBreeds();\n        return fullInputResultSearch\n    } catch (error){\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n    \n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst messageForError = () => {\n    const htmlError = `<div class=\"error\">\n    <p class=\"title-error\">\n        Nothing was found for the selected <span><a class=\"a-title-error\" href=\"\">filters...</a></span>\n    </p>\n    <p class=\"p-error\">\n        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.\n    </p>\n</div>`;\n    filtersResult.innerHTML = htmlError;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////// HOME /// PAGE ////////////////////////////////////////////////////////////\nasync function ifEmptyInput() {\n    try {\n        const storageDataHomePage = localStorage.getItem('products-home-page-filters');\n        const allPages = localStorage.getItem('all-pages-result');\n        if (storageDataHomePage && allPages) {\n            const preProductsHomePage = JSON.parse(storageDataHomePage);\n            allPagesResult = JSON.parse(allPages);\n            if(preProductsHomePage.length >= limit){\n                productsHomePage = preProductsHomePage.slice(0, limit)\n            } else {\n                await search();\n            productsHomePage = fullInputResultSearch.results;\n            allPagesResult = fullInputResultSearch.totalPages;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n            localStorage.setItem('all-pages-result', JSON.stringify(allPagesResult));\n            }\n        } else {\n            await search();\n            productsHomePage = fullInputResultSearch.results;\n            allPagesResult = fullInputResultSearch.totalPages;\n            localStorage.setItem('products-home-page-filters', JSON.stringify(productsHomePage));\n            localStorage.setItem('all-pages-result', JSON.stringify(allPagesResult));\n        }\n        localStorage.setItem('resultProductsFilrers', JSON.stringify(productsHomePage));\n        renderCards();\n        element(allPagesResult, 2);\n        if(fullInputResultSearch.totalPages === 0){\n            messageForError();\n        }\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyInput();\n\n//////////////////////////////////////// INPUT ////////////////////////////////////////////////////////////////////\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    keyword = inputSearch.value.trim();\n    page = 1;\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    allPagesResult = fullInputResultSearch.totalPages;\n    localStorage.setItem('resultProductsFilrers', JSON.stringify(inputResultSearch));\n    renderCards();\n    element(allPagesResult, 2);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n});\n\n////////////////////////////////////////// ALL CATEGORIES ////////////////////////////////////////////////////////////////////\n\nasync function ifEmptyCategories() {\n    try {\n        const storageDataCategories = localStorage.getItem('categories-filters');\n        if (storageDataCategories) {\n            productsCategories = JSON.parse(storageDataCategories);\n        } else {\n            const filters = '';\n            const firstProductsCategoriesFilters = `${products}/categories`;\n            const classFirstCategoriesProducts = new RequestToTheServer(firstProductsCategoriesFilters, filters, page, limit);\n            productsCategories = await classFirstCategoriesProducts.fetchBreeds();\n            localStorage.setItem('categories-filters', JSON.stringify(productsCategories));\n        }\n        renderCategories(productsCategories);\n    } catch (error) {\n        messageForError();\n        console.error(\"Error:\", error.message);\n    }\n};\n\nifEmptyCategories();\n\nfunction renderCategories(productsCategories){\n    const listCategories = [];\n    productsCategories.forEach((productsCategorie) => {\n        let itemCategories = ``;\n        if(productsCategorie !== 'Pantry_Items'){\n            itemCategories = `<li class=\"li-first-select-search\"><button class=\"button-li-filters\">${productsCategorie.replace(/_/g, ' ').replace(/&/g, '/')}</button></li>`;\n        } else{\n            itemCategories = `<li class=\"li-first-select-search\"><button class=\"button-li-filters\">${productsCategorie}</button></li>`;\n        }\n        listCategories.push(itemCategories)\n    });\n    listCategories.push(`<li class=\"li-first-select-search\"><button class=\"button-li-filters\">Show all</button></li>`);\n    firctSelectSearch.insertAdjacentHTML('beforeend', listCategories.join(''));\n    const buttonsLiFilters = document.querySelectorAll('.button-li-filters');\n    addListenerLi(buttonsLiFilters)\n}\n\n/////////////////////////////////////////  CARD  SEARCH  //////////////////////////////////////////////////////////////////////////////////\n\nbuttonCategories.addEventListener('click', () => addListenerButton(buttonCategories, firctSelectSearch));\n\nfunction addListenerButton(button, buttonList) {\n    buttonList.classList.add('first-select-search');\n    document.addEventListener('click', (event) => workButtonMenu(event, button, buttonList));\n};\n\nfunction workButtonMenu(event, button, listButtonMenu) {\n    if(!button.contains(event.target)&&!listButtonMenu.contains(event.target)){\n        listButtonMenu.classList.remove('first-select-search')\n    } else if(listButtonMenu.contains(event.target)){\n        setTimeout(() => {\n            listButtonMenu.classList.remove('first-select-search')\n        }, 100)\n    }\n};\n\nfunction addListenerLi(buttonsLiFilters){\n    buttonsLiFilters.forEach((buttonLiFilters) => {\n    buttonLiFilters.addEventListener('click', renderEndPoint)\n})\n};\n\nasync function renderEndPoint(event){\n    const nameCategoryForSelect = event.currentTarget.textContent;\n    if(nameCategoryForSelect !== 'Pantry Items'){\n        category = nameCategoryForSelect.replace(/ /g, '_').replace(/\\//g, '&');\n    } else{\n        category = nameCategoryForSelect;\n    }\n    spanButtonCategories.innerHTML = `${nameCategoryForSelect}`;\n    if(category === 'Show_all'){\n        category = ''\n    }\n    recordsDataForSearch(keyword, category, page, limit);\n    await search();\n    inputResultSearch = fullInputResultSearch.results;\n    allPagesResult = fullInputResultSearch.totalPages;\n    localStorage.setItem('resultProductsFilrers', JSON.stringify(inputResultSearch));\n    renderCards();\n    element(allPagesResult, 2);\n    if(fullInputResultSearch.totalPages === 0){\n        messageForError();\n    }\n}\n\n///////////////////////////////////////////////////////  RENDER  CARDS  /////////////////////////////////////////////////////////////\n\nexport function renderCards() {\n    const products = JSON.parse(localStorage.getItem('resultProductsFilrers'));\n    const listResult = [];\n    const infoAboutCard = JSON.parse(localStorage.getItem('cart'));\n    products.forEach((product) => {\n        let itemResult = '';\n        let iconShop = `<button class=\"cardlist-add-cart cardlist-add-cart-for-active\" id=${product._id}>\n        <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n        <use href=\"${icons}#icon-heroicons-solid_shopping-cart\"></use>\n        </svg>\n        </button>`;\n        let nameCategory = product.category.replace(/_/g, ' ').replace(/&/g, '/');\n        if(product.category == 'Pantry_Items'){\n            nameCategory = product.category;\n        } else{\n            nameCategory = product.category.replace(/_/g, ' ').replace(/&/g, '/');\n        }\n        if(infoAboutCard){\n            const cardInInfoAboutCard = infoAboutCard.some((obj) => obj._id === product._id);\n            if(cardInInfoAboutCard){\n                iconShop = `<button class=\"cardlist-add-cart\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"${icons}#icon-check\"></use>\n                </svg>\n                </button>`;\n            } else{\n                iconShop = `<button class=\"cardlist-add-cart cardlist-add-cart-for-active\" id=${product._id}>\n                <svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n                <use href=\"${icons}#icon-heroicons-solid_shopping-cart\"></use>\n                </svg>\n                </button>`;\n                \n            }\n        };\n        if(product.is10PercentOff){\n        itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div id=\"${product._id}\" class =\"filters-for-click\">\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${nameCategory}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"discount-for-filter-cards\">\n                <use href=\"${icons}#icon-discount-1\"></use>\n                </svg>\n                </div>\n                <div class=\"cartlist-btn\">\n                ${iconShop}\n                </div>\n                </li>`;\n        } else {\n            itemResult = `<li class=\"card-list-item id-for-del\" data-id=${product._id}>\n                <div id=\"${product._id}\" class =\"filters-for-click\">\n                <div class = \"div-img\">\n                <img src=\"${product.img}\" loading=\"lazy\" class=\"cardlist-img filters-img\" alt=\"${product.name}\" />\n                </div>\n                <h3 class=\"card-list-product\">${product.name}</h3>\n                <div class=\"cardlist-descr\">\n                <div class=\"two-items\">\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Category: </span>${nameCategory}</p>\n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Size: </span>${product.size}</p>\n                </div>    \n                    <p class =\"li-p-cards\"><span class =\"span-p-cards\">Popularity: </span>${product.popularity}</p>\n                </div>\n                <p class =\"price-for-cards\">$${product.price}</p>\n                <svg  class=\"visually-hidden\">\n                <use href=\"${icons}#icon-discount-1\"></use>\n                </svg>\n                </div>\n                <div class=\"cartlist-btn\">\n                ${iconShop}\n                </div>\n                </li>`;\n        }\n        listResult.push(itemResult)\n    });\n    filtersResult.innerHTML = `<ul class=\"card-list\">${listResult.join(\" \")}</ul>`;\n    workShopButton(products);\n    const cardFiltersImages = document.querySelectorAll('.filters-for-click');\ncardFiltersImages.forEach(img => {\n    img.addEventListener('click', imageClick);\n});\n};\n\nfunction workShopButton(products) {\n    const allShopButton = document.querySelectorAll('.cardlist-add-cart');\n    [...allShopButton].forEach((shopButton) => {\n        shopButton.addEventListener('click', (event) => {\n            const idShopButton = event.currentTarget.getAttribute('id');\n            const ourProduct = products.find((odj) => odj._id === idShopButton);\n            const cardLS = localStorage.getItem('cart');\n            if(cardLS){\n                const infoInCardLS = JSON.parse(cardLS);\n                infoInCardLS.push(ourProduct);\n                localStorage.setItem('cart', JSON.stringify(infoInCardLS));\n            } else{\n                localStorage.setItem('cart', JSON.stringify([ourProduct]));\n            }\n            event.currentTarget.innerHTML = `<svg class=\"cardlist-svg\" weight=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-check\"></use>\n            </svg>`;\n            event.currentTarget.setAttribute('disabled', 'true');\n            event.currentTarget.classList.remove('cardlist-add-cart-for-active');\n            cartButtonStyle();\n            localStorageCheckCart();\n            handleButtonClick(idShopButton);\n        })\n    })\n};\n\n\n\nfunction imageClick(event){\n    const idProduct = event.currentTarget.getAttribute('id');\n    onOpenModal(idProduct)\n}\n\n\n\n// localStorage.clear()"],"names":["cartButtonStyle","savedProducts","localProducts","createAndAppendProductElements","addFunctionalityToElements","fetchProductsFromServer","request","RequestToTheServer","fetchedData","saveProductsToLocalStorage","productsToDisplay","error","productsContainer","products","product","productTemplate","sprite","onOpenModal","addToCartBtn","addToCart","cart","item","localStorageCheckCart","btn","productId","iconInCart","iconAddToCart","isProductInCart","scrollUpButton","checkScroll","totalPageHeight","viewportHeight","refs","onCloseModal","onBackdropClick","cardImages","img","event","handleImageClick","cardImagesPopular","handleImageClickPopular","discountCardImages","image","discountCard","dataId","baseUrl","fetchProductById","response","axios","responseData","handleProductDetails","productDetails","isInCart","checkIfProductInCart","updateAddToCartButton","lastClickListener","buttonText","clickListener","onClickAddToCart","getCartFromStorage","obj","removeFromCart","renderCards","index","updatedCart","onCloseByEsc","clearModal","toggleBodyScroll","isModalOpen","ulTag","leftArrowPagination","rigthArrowPagination","element","totalPages","page","liTag","beforePages","afterPades","pageLength","i","buttonsPagination","threeDots","dotsBefore","dotsAfter","massifButtonsPagination","littleNumber","littleNumberPlusOne","littleNumberMass","bigNumber","bigNumberMinusOne","bigNumberMass","buttonPagination","searchPagination","activeBtn","numbActiveBtn","preActiveBth","newLi","newBtn","activePage","searchForPagination","numberBtnForDelete","buttonForDelete","workButtonPagination","numberStartPage","hasBtnActive","dataFromLS","recordsDataForSearch","searchResult","search","discountEl","CART_KEY","addedProducts","p","renderProducts","isProductAlreadyInCart","id","productsTemplate","attachButtonClickHandlers","_id","name","price","handleButtonClick","ev","selectedProduct","button","init","endPoint","filters","limit","__publicField","searchForm","inputSearch","filtersResult","firctSelectSearch","buttonCategories","spanButtonCategories","keyword","category","allPagesResult","productsHomePage","inputResultSearch","productsCategories","fullInputResultSearch","littleMediaQuery","bigMediaQuery","letForSearch","messageForError","htmlError","ifEmptyInput","storageDataHomePage","allPages","preProductsHomePage","ifEmptyCategories","storageDataCategories","firstProductsCategoriesFilters","renderCategories","listCategories","productsCategorie","itemCategories","buttonsLiFilters","addListenerLi","addListenerButton","buttonList","workButtonMenu","listButtonMenu","buttonLiFilters","renderEndPoint","nameCategoryForSelect","listResult","infoAboutCard","itemResult","iconShop","icons","nameCategory","workShopButton","imageClick","shopButton","idShopButton","ourProduct","odj","cardLS","infoInCardLS","idProduct"],"mappings":"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"}