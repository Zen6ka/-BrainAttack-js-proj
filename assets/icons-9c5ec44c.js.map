{"version":3,"file":"icons-9c5ec44c.js","sources":["../../src/js/footer.js","../../src/img/icons.svg"],"sourcesContent":["import axios from 'axios';\n\nconst refs = {\n  // ---------------for form subscription--------------\n\n  formSubscription: document.querySelector('.footer-form'),\n\n  // ----------------for modal window_____________\n\n  openModalPolicy: document.querySelector('.js-modal-policy-open'),\n  openModalTerms: document.querySelector('.js-modal-terms-open'),\n  closeModalPolicyBtn: document.querySelector('.js-policy-close'),\n  closeModalTermsBtn: document.querySelector('.js-terms-close'),\n  policyLink: document.querySelector('.js-policy'),\n  termsLink: document.querySelector('.js-terms'),\n};\n\n//==============form subscription=========\n\nrefs.formSubscription.addEventListener('submit', onFormSubscriptSubmit);\n\nfunction onFormSubscriptSubmit(e) {\n  e.preventDefault();\n\n  const email = e.currentTarget.elements.email.value;\n\n  addUserForSubscription(email);\n\n  e.currentTarget.reset();\n}\n\nasync function addUserForSubscription(email) {\n  axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/';\n  const config = {\n    method: 'post',\n    url: 'subscription',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: { email: email },\n  };\n  try {\n    const response = await axios.request(config);\n    alert(response.data.message);\n  } catch (error) {\n    alert(error.response.data.message);\n    console.log(error);\n  }\n}\n\n//==============open and close modal policy and terms========\n\nrefs.openModalPolicy.addEventListener('click', () => {\n  onPolicyClick(refs.policyLink);\n  changeListenerPolicy();\n  window.addEventListener('keydown', closeModalPolicyByEsc);\n});\n\nrefs.openModalTerms.addEventListener('click', () => {\n  onPolicyClick(refs.termsLink);\n  changeListenerTerms();\n  window.addEventListener('keydown', closeModalPolicyByEsc);\n});\n\nfunction onPolicyClick(link) {\n  link.classList.remove('is-hidden-policy');\n  document.body.classList.add('.no-scroll');\n}\n\nfunction changeListenerPolicy() {\n  refs.closeModalPolicyBtn.addEventListener('click', onClosePolicyBtn);\n}\n\nfunction onClosePolicyBtn() {\n  refs.policyLink.classList.add('is-hidden-policy');\n  document.body.classList.remove('.no-scroll');\n  removeListenerPolicy();\n}\n\nfunction removeListenerPolicy() {\n  refs.closeModalPolicyBtn.removeEventListener('click', onClosePolicyBtn);\n  window.removeEventListener('keydown', closeModalPolicyByEsc);\n}\n\nfunction changeListenerTerms() {\n  refs.closeModalTermsBtn.addEventListener('click', onCloseTermsBtn);\n}\n\nfunction onCloseTermsBtn() {\n  refs.termsLink.classList.add('is-hidden-policy');\n  document.body.classList.remove('.no-scroll');\n  removeListenerTerms();\n}\nfunction removeListenerTerms() {\n  refs.closeModalTermsBtn.removeEventListener('click', onCloseTermsBtn);\n  window.removeEventListener('keydown', closeModalPolicyByEsc);\n}\n\nfunction closeModalPolicyByEsc({ code }) {\n  if (code === 'Escape') {\n    onClosePolicyBtn();\n    onCloseTermsBtn();\n  }\n}\n","export default \"__VITE_ASSET__bf8d566a__\""],"names":["refs","onFormSubscriptSubmit","e","email","addUserForSubscription","axios","config","response","error","onPolicyClick","changeListenerPolicy","closeModalPolicyByEsc","changeListenerTerms","link","onClosePolicyBtn","removeListenerPolicy","onCloseTermsBtn","removeListenerTerms","code","sprite"],"mappings":"+uBAEA,MAAMA,EAAO,CAGX,iBAAkB,SAAS,cAAc,cAAc,EAIvD,gBAAiB,SAAS,cAAc,uBAAuB,EAC/D,eAAgB,SAAS,cAAc,sBAAsB,EAC7D,oBAAqB,SAAS,cAAc,kBAAkB,EAC9D,mBAAoB,SAAS,cAAc,iBAAiB,EAC5D,WAAY,SAAS,cAAc,YAAY,EAC/C,UAAW,SAAS,cAAc,WAAW,CAC/C,EAIAA,EAAK,iBAAiB,iBAAiB,SAAUC,CAAqB,EAEtE,SAASA,EAAsBC,EAAG,CAChCA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,cAAc,SAAS,MAAM,MAE7CE,EAAuBD,CAAK,EAE5BD,EAAE,cAAc,OAClB,CAEA,eAAeE,EAAuBD,EAAO,CAC3CE,EAAM,SAAS,QAAU,0CACzB,MAAMC,EAAS,CACb,OAAQ,OACR,IAAK,eACL,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,CAAE,MAAOH,CAAO,CAC1B,EACE,GAAI,CACF,MAAMI,EAAW,MAAMF,EAAM,QAAQC,CAAM,EAC3C,MAAMC,EAAS,KAAK,OAAO,CAC5B,OAAQC,EAAO,CACd,MAAMA,EAAM,SAAS,KAAK,OAAO,EACjC,QAAQ,IAAIA,CAAK,CAClB,CACH,CAIAR,EAAK,gBAAgB,iBAAiB,QAAS,IAAM,CACnDS,EAAcT,EAAK,UAAU,EAC7BU,IACA,OAAO,iBAAiB,UAAWC,CAAqB,CAC1D,CAAC,EAEDX,EAAK,eAAe,iBAAiB,QAAS,IAAM,CAClDS,EAAcT,EAAK,SAAS,EAC5BY,IACA,OAAO,iBAAiB,UAAWD,CAAqB,CAC1D,CAAC,EAED,SAASF,EAAcI,EAAM,CAC3BA,EAAK,UAAU,OAAO,kBAAkB,EACxC,SAAS,KAAK,UAAU,IAAI,YAAY,CAC1C,CAEA,SAASH,GAAuB,CAC9BV,EAAK,oBAAoB,iBAAiB,QAASc,CAAgB,CACrE,CAEA,SAASA,GAAmB,CAC1Bd,EAAK,WAAW,UAAU,IAAI,kBAAkB,EAChD,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3Ce,GACF,CAEA,SAASA,GAAuB,CAC9Bf,EAAK,oBAAoB,oBAAoB,QAASc,CAAgB,EACtE,OAAO,oBAAoB,UAAWH,CAAqB,CAC7D,CAEA,SAASC,GAAsB,CAC7BZ,EAAK,mBAAmB,iBAAiB,QAASgB,CAAe,CACnE,CAEA,SAASA,GAAkB,CACzBhB,EAAK,UAAU,UAAU,IAAI,kBAAkB,EAC/C,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3CiB,GACF,CACA,SAASA,GAAsB,CAC7BjB,EAAK,mBAAmB,oBAAoB,QAASgB,CAAe,EACpE,OAAO,oBAAoB,UAAWL,CAAqB,CAC7D,CAEA,SAASA,EAAsB,CAAE,KAAAO,GAAQ,CACnCA,IAAS,WACXJ,IACAE,IAEJ,CCvGA,MAAeG,EAAA"}