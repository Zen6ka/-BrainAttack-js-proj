import{a as u}from"./vendor-27c5a77b.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();let m=document.querySelector(".js-header-cart-items");p();function p(){setInterval(()=>{const o=localStorage.getItem("cart"),r=JSON.parse(o);if(r===null){m.innerHTML="0";return}const i=r.flatMap(e=>e._id).filter((e,t,c)=>c.indexOf(e)===t);m.innerHTML=`${i.length}`},1e3)}const n={formSubscription:document.querySelector(".footer-form"),openModalPolicy:document.querySelector(".js-modal-policy-open"),openModalTerms:document.querySelector(".js-modal-terms-open"),closeModalPolicyBtn:document.querySelector(".js-policy-close"),closeModalTermsBtn:document.querySelector(".js-terms-close"),policyLink:document.querySelector(".js-policy"),termsLink:document.querySelector(".js-terms")};n.formSubscription.addEventListener("submit",y);function y(o){o.preventDefault();const r=o.currentTarget.elements.email.value;L(r),o.currentTarget.reset()}async function L(o){u.defaults.baseURL="https://food-boutique.b.goit.study/api/";const r={method:"post",url:"subscription",headers:{"Content-Type":"application/json"},data:{email:o}};try{const s=await u.request(r);alert(s.data.message)}catch(s){alert(s.response.data.message),console.log(s)}}n.openModalPolicy.addEventListener("click",()=>{f(n.policyLink),v(),window.addEventListener("keydown",l)});n.openModalTerms.addEventListener("click",()=>{f(n.termsLink),b(),window.addEventListener("keydown",l)});function f(o){o.classList.remove("is-hidden-policy"),document.body.classList.add(".no-scroll")}function v(){n.closeModalPolicyBtn.addEventListener("click",a)}function a(){n.policyLink.classList.add("is-hidden-policy"),document.body.classList.remove(".no-scroll"),g()}function g(){n.closeModalPolicyBtn.removeEventListener("click",a),window.removeEventListener("keydown",l)}function b(){n.closeModalTermsBtn.addEventListener("click",d)}function d(){n.termsLink.classList.add("is-hidden-policy"),document.body.classList.remove(".no-scroll"),h()}function h(){n.closeModalTermsBtn.removeEventListener("click",d),window.removeEventListener("keydown",l)}function l({code:o}){o==="Escape"&&(a(),d())}const S="/BrainAttack-js-proj/assets/icons-617986b7.svg";export{p as l,S as s};
//# sourceMappingURL=icons-42d75900.js.map
