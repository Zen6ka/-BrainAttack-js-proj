(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(e){if(e.ep)return;e.ep=!0;const c=n(e);fetch(e.href,c)}})();const i=document.querySelector(".js-cart-items-quantity"),p=document.querySelector(".js-cart-empty"),f=document.querySelector(".js-cart-container"),S=document.querySelector(".js-delete-all-btn"),l=document.querySelector(".js-cart-selected-products");document.querySelector(".js-cart-order-details");const L=document.querySelector(".js-total-ordered-price"),h=document.querySelector(".js-email-form"),j=document.querySelector(".js-email-checkout"),m=document.querySelector(".input"),T=document.querySelector(".cart-amount");console.log("Test start");function y(){const t=localStorage.getItem("cart");return JSON.parse(t)}const s=y();console.log(s);function g(t){const r=t.reduce((n,o)=>n+o.price,0).toFixed(2);L.innerHTML=`$${r}`}if(s!==null){i.innerHTML=s.length,T.innerHTML=s.length,H(),b();const t=s.map(r=>q(r._Id,r.name,r.img,r.category,r.size,r.price)).join("");l.innerHTML=t,i.innerHTML=s.length,g(s),document.querySelector(".cart-remove-product-btn").addEventListener("click",v)}else i.innerHTML=0,a(),d();h.addEventListener("change",t=>{t.preventDefault(),console.log(m.value),m.value=""});j.addEventListener("click",t=>{t.preventDefault(),console.log("Submit successful"),a(),d(),i.innerHTML=0,l.innerHTML=""});S.addEventListener("click",M);function M(t){t.preventDefault(),localStorage.removeItem("cart"),l.innerHTML="",d(),a(),i.innerHTML=0}function q(t,r,n,o,e,c){return`
<div class="selected-item" id="${t}">
    <button class="cart-remove-product-btn"><svg class="js-delete-product-icon"><use href="./img/icons.svg#icon-ion_close-sharp"></use></svg></button>
    <div class="js-selected-item-img"><img class='js-product-item-img' src="${n}" alt="Product"></div>
    <div class="js-selected-item-descroption">
        <p class="js-item-product-name">${r}</p>
        <p class="js-item-product-properties">Category: <span class="js-item-product-descr">${o}</span> Size: <span class="js-item-product-descr">${e}</span></p>
        <p class="js-item-product-price">$${c}</p>
    </div>
</div>
<p class="underline"></p>
`}function a(){p.style.display="flex"}function H(){p.style.display="none"}function b(){f.style.display="flex"}function d(){f.style.display="none"}console.log("Test end");l.addEventListener("click",v);function v(t){if(console.log("i`m alive"),t.target.closest(".cart-remove-product-btn").nodeName!=="BUTTON")return;console.log("try2");const n=t.target.getAttribute("data-id"),o=y();console.log(o);const e=o.findIndex(c=>c.id===n);if(e!==-1&&(o.splice(e,1),localStorage.setItem("cart",JSON.stringify(o))),o.length>0)return g(o),o;l.innerHTML="",d(),a(),i.innerHTML=0}
//# sourceMappingURL=cart-0db1e548.js.map
