import{a as m}from"./vendor-27c5a77b.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();let a=document.querySelector(".js-header-cart-items"),y=setInterval(p,300);window.addEventListener("beforeunload",()=>{clearInterval(y)});function p(){try{const t=localStorage.getItem("cart");if(!t){a.innerHTML="0";return}const n=JSON.parse(t);if(!Array.isArray(n)){a.innerHTML="0";return}const i=n.flatMap(e=>e._id).filter((e,o,c)=>c.indexOf(e)===o);a.innerHTML=`${i.length}`}catch(t){console.error("Error:",t.message)}}const r={formSubscription:document.querySelector(".footer-form"),openModalPolicy:document.querySelector(".js-modal-policy-open"),openModalTerms:document.querySelector(".js-modal-terms-open"),closeModalPolicyBtn:document.querySelector(".js-policy-close"),closeModalTermsBtn:document.querySelector(".js-terms-close"),policyLink:document.querySelector(".js-policy"),termsLink:document.querySelector(".js-terms")};r.formSubscription.addEventListener("submit",L);function L(t){t.preventDefault();const n=t.currentTarget.elements.email.value;v(n),t.currentTarget.reset()}async function v(t){m.defaults.baseURL="https://food-boutique.b.goit.study/api/";const n={method:"post",url:"subscription",headers:{"Content-Type":"application/json"},data:{email:t}};try{const s=await m.request(n);alert(s.data.message)}catch(s){alert(s.response.data.message),console.log(s)}}r.openModalPolicy.addEventListener("click",()=>{f(r.policyLink),g(),window.addEventListener("keydown",l)});r.openModalTerms.addEventListener("click",()=>{f(r.termsLink),b(),window.addEventListener("keydown",l)});function f(t){t.classList.remove("is-hidden-policy"),document.body.classList.add(".no-scroll")}function g(){r.closeModalPolicyBtn.addEventListener("click",d)}function d(){r.policyLink.classList.add("is-hidden-policy"),document.body.classList.remove(".no-scroll"),h()}function h(){r.closeModalPolicyBtn.removeEventListener("click",d),window.removeEventListener("keydown",l)}function b(){r.closeModalTermsBtn.addEventListener("click",u)}function u(){r.termsLink.classList.add("is-hidden-policy"),document.body.classList.remove(".no-scroll"),P()}function P(){r.closeModalTermsBtn.removeEventListener("click",u),window.removeEventListener("keydown",l)}function l({code:t}){t==="Escape"&&(d(),u())}const w="/BrainAttack-js-proj/assets/icons-617986b7.svg";export{p as l,w as s};
//# sourceMappingURL=icons-e2516a61.js.map
