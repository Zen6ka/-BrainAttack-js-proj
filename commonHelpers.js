var p=Object.defineProperty;var m=(t,e,o)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var i=(t,e,o)=>(m(t,typeof e!="symbol"?e+"":e,o),o);import{a as y}from"./assets/vendor-a61d8330.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();class l{constructor(e){i(this,"baseUrl","https://food-boutique.b.goit.study/api/");this.endPoint=e}async fetchBreeds(){try{const e=await y.get(`${this.baseUrl}${this.endPoint}`);return console.log(e.data),e.data}catch(e){console.error("Error:",e.message)}}}const g=document.querySelector(".search-form"),h=document.querySelector(".input-search");document.querySelector(".button-search");const d=document.querySelector(".filters-result");let n={};const S=()=>{const t=`<div class="error">
    <p class="title-error">
        Nothing was found for the selected <span><a class="a-title-error" href="">filters...</a></span>
    </p>
    <p class="p-error">
        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.
    </p>
</div>`;d.innerHTML=t};async function f(){try{const t=localStorage.getItem("products-home-page-filters");if(t)n=JSON.parse(t);else{const e="products";n=await new l(e).fetchBreeds(),localStorage.setItem("products-home-page-filters",JSON.stringify(n))}}catch(t){console.error("Error:",t.message)}console.log(n)}f();g.addEventListener("submit",async t=>{t.preventDefault();const e=h.value.trim();if(!e)f(),d.innerHTML="";else{const o=`products?keyword=${e}`;n=await new l(o).fetchBreeds(),n.totalPages===0&&S()}console.log(n.totalPages)});document.addEventListener("DOMContentLoaded",async function(){const t=new l("products/popular?limit=5");try{const e=q();if(e)u(e);else{const o=await t.fetchBreeds();P(o),u(o)}}catch(e){console.error("Error:",e)}});async function u(t){const e=document.querySelector(".products-container"),o=document.querySelector(".product-template");t.forEach(c=>{const r=o.cloneNode(!0);r.style.display="flex",r.querySelector(".product-image").src=c.img,r.querySelector(".product-name").textContent=c.name,r.querySelector(".category-value").textContent=c.category.replace("_"," "),r.querySelector(".size-value").textContent=c.size,r.querySelector(".popularity-value").textContent=c.popularity;const s=r.querySelector(".add-to-cart-btn");s.onclick=function(){v(c._id)},e.appendChild(r)})}function P(t){localStorage.setItem("popularProducts",JSON.stringify(t))}function q(){const t=localStorage.getItem("popularProducts");return t?JSON.parse(t):null}function v(t){console.log("Додавання продукту в кошик:",t)}
//# sourceMappingURL=commonHelpers.js.map
