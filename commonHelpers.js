import"./assets/styles-339911d2.js";const s=document.querySelector(".js-cart-items-quantity"),y=document.querySelector(".js-cart-empty"),f=document.querySelector(".js-cart-container"),L=document.querySelector(".js-delete-all-btn"),a=document.querySelector(".js-cart-selected-products");document.querySelector(".js-cart-order-details");const M=document.querySelector(".js-total-ordered-price"),h=document.querySelector(".js-email-form"),q=document.querySelector(".js-email-checkout"),g=document.querySelector(".input");console.log("Test start");j();l();function d(){const e=localStorage.getItem("cart");return JSON.parse(e)}const m=d();console.log(m);const p=T(m);s.innerHTML=p.length;const H=p.map(e=>v(e._id,e.name,e.img,e.category,e.size,e.price)).join("");a.innerHTML=H;S(p);a.addEventListener("click",P);function T(e){if(e===null||e.length<1)return s.innerHTML="0",u(),l(),console.log("Error array"),[];j(),E();const r=new Set,c=m.filter(n=>{const t=n._id;return r.has(t)?!1:(r.add(t),!0)});return console.log(c),c}function P(e){const r=e.target.closest("[id]"),c=r?r.id:null;if(console.log(c),e.target.closest(".cart-remove-product-btn")){const t=d().filter(i=>i._id!==c);if(console.log(t),t.length>0){localStorage.setItem("cart",JSON.stringify(t));const i=d().map(o=>v(o._id,o.name,o.img,o.category,o.size,o.price)).join("");a.innerHTML=i,S(t),s.innerHTML=t.length}else localStorage.removeItem("cart"),s.innerHTML="0",a.innerHTML="",u(),l()}}h.addEventListener("change",e=>{e.preventDefault(),console.log(g.value),g.value=""});q.addEventListener("click",e=>{e.preventDefault(),console.log("Submit successful"),u(),l(),s.innerHTML="0",a.innerHTML="",localStorage.removeItem("cart")});L.addEventListener("click",k);function k(e){e.preventDefault(),localStorage.removeItem("cart"),a.innerHTML="",l(),u(),s.innerHTML="0"}function S(e){const r=e.reduce((c,n)=>c+n.price,0).toFixed(2);M.innerHTML=`$${r}`}function v(e,r,c,n,t,i){return`
<div class="selected-item" id="${e}">
    <button class="cart-remove-product-btn"><svg class="js-delete-product-icon"><use href="./img/icons.svg#icon-ion_close-sharp"></use></svg></button>
    <div class="js-selected-item-img"><img class='js-product-item-img' src="${c}" alt="Product"></div>
    <div class="js-selected-item-descroption">
        <p class="js-item-product-name">${r}</p>
        <p class="js-item-product-properties">Category: <span class="js-item-product-descr">${n}</span> Size: <span class="js-item-product-descr">${t}</span></p>
        <p class="js-item-product-price">$${i}</p>
    </div>
</div>
<p class="underline"></p>
`}function u(){y.style.display="flex"}function j(){y.style.display="none"}function E(){f.style.display="flex"}function l(){f.style.display="none"}console.log("Test end");
//# sourceMappingURL=commonHelpers.js.map
