var p=Object.defineProperty;var f=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var n=(e,t,r)=>(f(e,typeof t!="symbol"?t+"":t,r),r);import"./assets/cart-4f6245f1.js";import{a as m}from"./assets/vendor-a61d8330.js";class a{constructor(t){n(this,"baseUrl","https://food-boutique.b.goit.study/api/");this.endPoint=t}async fetchBreeds(){try{const t=await m.get(`${this.baseUrl}${this.endPoint}`);return console.log(t.data),t.data}catch(t){console.error("Error:",t.message)}}}const y=document.querySelector(".search-form"),g=document.querySelector(".input-search");document.querySelector(".button-search");const u=document.querySelector(".filters-result");let c={};const h=()=>{const e=`<div class="error">
    <p class="title-error">
        Nothing was found for the selected <span><a class="a-title-error" href="">filters...</a></span>
    </p>
    <p class="p-error">
        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.
    </p>
</div>`;u.innerHTML=e};async function i(){try{const e=localStorage.getItem("products-home-page-filters");if(e)c=JSON.parse(e);else{const t="products";c=await new a(t).fetchBreeds(),localStorage.setItem("products-home-page-filters",JSON.stringify(c))}}catch(e){console.error("Error:",e.message)}console.log(c)}i();y.addEventListener("submit",async e=>{e.preventDefault();const t=g.value.trim();if(!t)i(),u.innerHTML="";else{const r=`products?keyword=${t}`;c=await new a(r).fetchBreeds(),c.totalPages===0&&h()}console.log(c.totalPages)});document.addEventListener("DOMContentLoaded",async function(){const e=new a("products/popular?limit=5");try{const t=P();if(t)l(t);else{const r=await e.fetchBreeds();S(r),l(r)}}catch(t){console.error("Error:",t)}});async function l(e){const t=document.querySelector(".products-container"),r=document.querySelector(".product-template");e.forEach(s=>{const o=r.cloneNode(!0);o.style.display="flex",o.querySelector(".product-image").src=s.img,o.querySelector(".product-name").textContent=s.name,o.querySelector(".category-value").textContent=s.category.replace("_"," "),o.querySelector(".size-value").textContent=s.size,o.querySelector(".popularity-value").textContent=s.popularity;const d=o.querySelector(".add-to-cart-btn");d.onclick=function(){q(s._id)},t.appendChild(o)})}function S(e){localStorage.setItem("popularProducts",JSON.stringify(e))}function P(){const e=localStorage.getItem("popularProducts");return e?JSON.parse(e):null}function q(e){console.log("Додавання продукту в кошик:",e)}
//# sourceMappingURL=commonHelpers2.js.map
