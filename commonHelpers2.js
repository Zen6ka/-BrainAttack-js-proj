var p=Object.defineProperty;var y=(r,e,t)=>e in r?p(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var n=(r,e,t)=>(y(r,typeof e!="symbol"?e+"":e,t),t);import"./assets/cart-2f8c70b6.js";import{a as f}from"./assets/vendor-a61d8330.js";class a{constructor(e){n(this,"baseUrl","https://food-boutique.b.goit.study/api/");this.endPoint=e}async fetchBreeds(){try{const e=await f.get(`${this.baseUrl}${this.endPoint}`);return console.log(e.data),e.data}catch(e){console.error("Error:",e.message)}}}const g=document.querySelector(".search-form"),m=document.querySelector(".input-search");document.querySelector(".button-search");const u=document.querySelector(".filters-result");let s={};const h=()=>{const r=`<div class="error">
    <p class="title-error">
        Nothing was found for the selected <span><a class="a-title-error" href="">filters...</a></span>
    </p>
    <p class="p-error">
        Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.
    </p>
</div>`;u.innerHTML=r};async function i(){try{const r=localStorage.getItem("products-home-page-filters");if(r)s=JSON.parse(r);else{const e="products";s=await new a(e).fetchBreeds(),localStorage.setItem("products-home-page-filters",JSON.stringify(s))}}catch(r){console.error("Error:",r.message)}console.log(s)}i();g.addEventListener("submit",async r=>{r.preventDefault();const e=m.value.trim();if(!e)i(),u.innerHTML="";else{const t=`products?keyword=${e}`;s=await new a(t).fetchBreeds(),s.totalPages===0&&h()}console.log(s.totalPages)});document.addEventListener("DOMContentLoaded",async function(){const r=new a("products/popular?limit=5");try{const e=q();if(e)l(e);else{const t=await r.fetchBreeds();S(t),l(t)}}catch(e){console.error("Error:",e)}});function S(r){localStorage.setItem("popularProducts",JSON.stringify(r))}function q(){const r=localStorage.getItem("popularProducts");return r?JSON.parse(r):null}function l(r){const e=document.querySelectorAll(".product-template");e.forEach(t=>{t.style.display="none",t.querySelector(".product-image").src="",t.querySelector(".product-name").textContent="",t.querySelector(".category-value").textContent="",t.querySelector(".size-value").textContent="",t.querySelector(".popularity-value").textContent=""}),r.slice(0,e.length).forEach((t,c)=>{const o=e[c];o.style.display="flex",o.querySelector(".product-image").src=t.img,o.querySelector(".product-name").textContent=t.name,o.querySelector(".category-value").textContent=t.category.replace("_"," "),o.querySelector(".size-value").textContent=t.size,o.querySelector(".popularity-value").textContent=t.popularity;const d=o.querySelector(".add-to-cart-btn");d.onclick=function(){addToCart(t._id)}})}
//# sourceMappingURL=commonHelpers2.js.map
